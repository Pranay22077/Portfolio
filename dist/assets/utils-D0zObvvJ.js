import{r as Rt}from"./motion-B1ci1TEv.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zi=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Pr=e=>{const t=Zi(e);return t.charAt(0).toUpperCase()+t.slice(1)},wn=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Rt.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:u,iconNode:o,...s},l)=>Rt.createElement("svg",{ref:l,...Vi,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:wn("lucide",i),...s},[...o.map(([f,D])=>Rt.createElement(f,D)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const r=Rt.forwardRef(({className:n,...i},u)=>Rt.createElement(Yi,{ref:u,iconNode:t,className:wn(`lucide-${Wi(Pr(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Pr(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wf=Oe("award",Xi);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ff=Oe("book-open",Gi);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Ef=Oe("code-xml",Ji);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],yf=Oe("code",ji);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],Af=Oe("cpu",Ki);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Cf=Oe("github",Qi);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],bf=Oe("graduation-cap",eu);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Bf=Oe("lightbulb",tu);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],_f=Oe("linkedin",ru);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Nf=Oe("mail",nu);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sf=Oe("map-pin",iu);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Mf=Oe("menu",uu);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Tf=Oe("star",ou);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xf=Oe("target",su);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],If=Oe("trophy",au);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Of=Oe("twitter",fu);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zf=Oe("x",cu);function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gt.apply(null,arguments)}var Fn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null,legacySubset:!1};function lu(e,t){if(Jt(e,t))return e[t];throw typeof e[t]=="function"&&pu(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function hu(e,t,r){if(Jt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Jt(e,t){return!Du(e)&&!Array.isArray(e)?!1:Kt(du,t)?!0:!(t in Object.prototype||t in Function.prototype)}function pu(e,t){return e==null||typeof e[t]!="function"||Kt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Kt(mu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Du(e){return typeof e=="object"&&e&&e.constructor===Object}var du={length:!0,name:!0},mu={toString:!0,valueOf:!0,toLocaleString:!0};class vu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return lu(this.wrappedObject,t)}set(t,r){return hu(this.wrappedObject,t,r),this}has(t){return Jt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return gu(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Jt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function gu(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function oe(e){return typeof e=="number"}function ye(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function wu(e){return typeof e=="bigint"}function En(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function yn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function An(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Qe(e){return typeof e=="string"}var _e=Array.isArray;function Be(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function jt(e){return Array.isArray(e)||Be(e)}function Fu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Eu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function yu(e){return e&&e.constructor.prototype.isRange===!0||!1}function Br(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Au(e){return typeof e=="boolean"}function Cu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function bu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Bu(e){return typeof e=="function"}function _u(e){return e instanceof Date}function Nu(e){return e instanceof RegExp}function _r(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!En(e)&&!yn(e))}function Su(e){return e?e instanceof Map||e instanceof vu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Mu(e){return e===null}function Tu(e){return e===void 0}function xu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Iu(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ou(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function zu(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ru(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function $u(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lu(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function qu(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Uu(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function ku(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Hu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Wu(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zu(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vu(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yu(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xu(e){return e&&e.constructor.prototype.isChain===!0||!1}function lt(e){var t=typeof e;return t==="object"?e===null?"null":ye(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ee(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ee(r)});if(e instanceof Date)return new Date(e.valueOf());if(ye(e))return e;if(_r(e))return Gu(e,Ee);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Gu(e,t){var r={};for(var n in e)Kt(e,n)&&(r[n]=t(e[n]));return r}function St(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!St(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!St(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Kt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Ju(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],u=e[i];u!==void 0&&(r[i]=u)}return r}var ju=["Matrix","Array"],Ku=["number","BigNumber","bigint","Fraction"],pt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Fn)};Gt(pt,Fn,{MATRIX_OPTIONS:ju,NUMBER_OPTIONS:Ku});function Rr(){return!0}function Xe(){return!1}function yt(){}const $r="Argument is not a typed-function.";function Cn(){function e(w){return typeof w=="object"&&w!==null&&w.constructor===Object}const t=[{name:"number",test:function(w){return typeof w=="number"}},{name:"string",test:function(w){return typeof w=="string"}},{name:"boolean",test:function(w){return typeof w=="boolean"}},{name:"Function",test:function(w){return typeof w=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(w){return w instanceof Date}},{name:"RegExp",test:function(w){return w instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(w){return w===null}},{name:"undefined",test:function(w){return w===void 0}}],r={name:"any",test:Rr,isAny:!0};let n,i,u=0,o={createCount:0};function s(w){const A=n.get(w);if(A)return A;let S='Unknown type "'+w+'"';const M=w.toLowerCase();let P;for(P of i)if(P.toLowerCase()===M){S+='. Did you mean "'+P+'" ?';break}throw new TypeError(S)}function l(w){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const S=A?s(A).index:i.length,M=[];for(let x=0;x<w.length;++x){if(!w[x]||typeof w[x].name!="string"||typeof w[x].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=w[x].name;if(n.has(q))throw new TypeError('Duplicate type name "'+q+'"');M.push(q),n.set(q,{name:q,test:w[x].test,isAny:w[x].isAny,index:S+x,conversionsTo:[]})}const P=i.slice(S);i=i.slice(0,S).concat(M).concat(P);for(let x=S+M.length;x<i.length;++x)n.get(i[x]).index=x}function f(){n=new Map,i=[],u=0,l([r],!1)}f(),l(t);function D(){let w;for(w of i)n.get(w).conversionsTo=[];u=0}function c(w){const A=i.filter(S=>{const M=n.get(S);return!M.isAny&&M.test(w)});return A.length?A:["any"]}function h(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function p(w,A,S){if(!h(w))throw new TypeError($r);const M=S&&S.exact,P=Array.isArray(A)?A.join(","):A,x=b(P),q=m(x);if(!M||q in w.signatures){const K=w._typedFunctionData.signatureMap.get(q);if(K)return K}const $=x.length;let k;if(M){k=[];let K;for(K in w.signatures)k.push(w._typedFunctionData.signatureMap.get(K))}else k=w._typedFunctionData.signatures;for(let K=0;K<$;++K){const ue=x[K],Ce=[];let qe;for(qe of k){const ze=C(qe.params,K);if(!(!ze||ue.restParam&&!ze.restParam)){if(!ze.hasAny){const Ve=F(ze);if(ue.types.some(Ye=>!Ve.has(Ye.name)))continue}Ce.push(qe)}}if(k=Ce,k.length===0)break}let z;for(z of k)if(z.params.length<=$)return z;throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+m(x,", ")+"))")}function d(w,A,S){return p(w,A,S).implementation}function a(w,A){const S=s(A);if(S.test(w))return w;const M=S.conversionsTo;if(M.length===0)throw new Error("There are no conversions to "+A+" defined.");for(let P=0;P<M.length;P++)if(s(M[P].from).test(w))return M[P].convert(w);throw new Error("Cannot convert "+w+" to "+A)}function m(w){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(S=>S.name).join(A)}function E(w){const A=w.indexOf("...")===0,M=(A?w.length>3?w.slice(3):"any":w).split("|").map($=>s($.trim()));let P=!1,x=A?"...":"";return{types:M.map(function($){return P=$.isAny||P,x+=$.name+"|",{name:$.name,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:null,conversionIndex:-1}}),name:x.slice(0,-1),hasAny:P,hasConversion:!1,restParam:A}}function y(w){const A=w.types.map(q=>q.name),S=j(A);let M=w.hasAny,P=w.name;const x=S.map(function(q){const $=s(q.from);return M=$.isAny||M,P+="|"+q.from,{name:q.from,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:q,conversionIndex:q.index}});return{types:w.types.concat(x),name:P,hasAny:M,hasConversion:x.length>0,restParam:w.restParam}}function F(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(A=>w.typeSet.add(A.name))),w.typeSet}function b(w){const A=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");const S=w.trim();if(S==="")return A;const M=S.split(",");for(let P=0;P<M.length;++P){const x=E(M[P].trim());if(x.restParam&&P!==M.length-1)throw new SyntaxError('Unexpected rest parameter "'+M[P]+'": only allowed for the last parameter');if(x.types.length===0)return null;A.push(x)}return A}function g(w){const A=ce(w);return A?A.restParam:!1}function v(w){if(!w||w.types.length===0)return Rr;if(w.types.length===1)return s(w.types[0].name).test;if(w.types.length===2){const A=s(w.types[0].name).test,S=s(w.types[1].name).test;return function(P){return A(P)||S(P)}}else{const A=w.types.map(function(S){return s(S.name).test});return function(M){for(let P=0;P<A.length;P++)if(A[P](M))return!0;return!1}}}function B(w){let A,S,M;if(g(w)){A=$e(w).map(v);const P=A.length,x=v(ce(w)),q=function($){for(let k=P;k<$.length;k++)if(!x($[k]))return!1;return!0};return function(k){for(let z=0;z<A.length;z++)if(!A[z](k[z]))return!1;return q(k)&&k.length>=P+1}}else return w.length===0?function(x){return x.length===0}:w.length===1?(S=v(w[0]),function(x){return S(x[0])&&x.length===1}):w.length===2?(S=v(w[0]),M=v(w[1]),function(x){return S(x[0])&&M(x[1])&&x.length===2}):(A=w.map(v),function(x){for(let q=0;q<A.length;q++)if(!A[q](x[q]))return!1;return x.length===A.length})}function C(w,A){return A<w.length?w[A]:g(w)?ce(w):null}function _(w,A){const S=C(w,A);return S?F(S):new Set}function T(w){return w.conversion===null||w.conversion===void 0}function O(w,A){const S=new Set;return w.forEach(M=>{const P=_(M.params,A);let x;for(x of P)S.add(x)}),S.has("any")?["any"]:Array.from(S)}function R(w,A,S){let M,P;const x=w||"unnamed";let q=S,$;for($=0;$<A.length;$++){const ue=[];if(q.forEach(Ce=>{const qe=C(Ce.params,$),ze=v(qe);($<Ce.params.length||g(Ce.params))&&ze(A[$])&&ue.push(Ce)}),ue.length===0){if(P=O(q,$),P.length>0){const Ce=c(A[$]);return M=new TypeError("Unexpected type of argument in function "+x+" (expected: "+P.join(" or ")+", actual: "+Ce.join(" | ")+", index: "+$+")"),M.data={category:"wrongType",fn:x,index:$,actual:Ce,expected:P},M}}else q=ue}const k=q.map(function(ue){return g(ue.params)?1/0:ue.params.length});if(A.length<Math.min.apply(null,k))return P=O(q,$),M=new TypeError("Too few arguments in function "+x+" (expected: "+P.join(" or ")+", index: "+A.length+")"),M.data={category:"tooFewArgs",fn:x,index:A.length,expected:P},M;const z=Math.max.apply(null,k);if(A.length>z)return M=new TypeError("Too many arguments in function "+x+" (expected: "+z+", actual: "+A.length+")"),M.data={category:"tooManyArgs",fn:x,index:A.length,expectedLength:z},M;const K=[];for(let ue=0;ue<A.length;++ue)K.push(c(A[ue]).join("|"));return M=new TypeError('Arguments of type "'+K.join(", ")+'" do not match any of the defined signatures of function '+x+"."),M.data={category:"mismatch",actual:K},M}function Z(w){let A=i.length+1;for(let S=0;S<w.types.length;S++)A=Math.min(A,w.types[S].typeIndex);return A}function Y(w){let A=u+1;for(let S=0;S<w.types.length;S++)T(w.types[S])||(A=Math.min(A,w.types[S].conversionIndex));return A}function H(w,A){if(w.hasAny){if(!A.hasAny)return .1}else if(A.hasAny)return-.1;if(w.restParam){if(!A.restParam)return .01}else if(A.restParam)return-.01;const S=Z(w)-Z(A);if(S<0)return-.001;if(S>0)return .001;const M=Y(w),P=Y(A);if(w.hasConversion){if(!A.hasConversion)return(1+M)*1e-6}else if(A.hasConversion)return-(1+P)*1e-6;const x=M-P;return x<0?-1e-7:x>0?1e-7:0}function L(w,A){const S=w.params,M=A.params,P=ce(S),x=ce(M),q=g(S),$=g(M);if(q&&P.hasAny){if(!$||!x.hasAny)return 1e7}else if($&&x.hasAny)return-1e7;let k=0,z=0,K;for(K of S)K.hasAny&&++k,K.hasConversion&&++z;let ue=0,Ce=0;for(K of M)K.hasAny&&++ue,K.hasConversion&&++Ce;if(k!==ue)return(k-ue)*1e6;if(q&&P.hasConversion){if(!$||!x.hasConversion)return 1e5}else if($&&x.hasConversion)return-1e5;if(z!==Ce)return(z-Ce)*1e4;if(q){if(!$)return 1e3}else if($)return-1e3;const qe=(S.length-M.length)*(q?-100:100);if(qe!==0)return qe;const ze=[];let Ve=0;for(let Et=0;Et<S.length;++Et){const kt=H(S[Et],M[Et]);ze.push(kt),Ve+=kt}if(Ve!==0)return(Ve<0?-10:10)+Ve;let Ye,Ft=9;const Dr=Ft/(ze.length+1);for(Ye of ze){if(Ye!==0)return(Ye<0?-Ft:Ft)+Ye;Ft-=Dr}return 0}function j(w){if(w.length===0)return[];const A=w.map(s);if(w.length===1)return A[0].conversionsTo;const S=new Set(w),M=new Set;for(let x=0;x<A.length;++x)for(const q of A[x].conversionsTo)S.has(q.from)||M.add(q.from);const P=[];for(const x of M){let q=u+1,$=null;for(let k=0;k<A.length;++k)for(const z of A[k].conversionsTo)z.from===x&&z.index<q&&(q=z.index,$=z);P.push($)}return P}function X(w,A){let S=A,M="";if(w.some(x=>x.hasConversion)){const x=g(w),q=w.map(J);M=q.map($=>$.name).join(";"),S=function(){const k=[],z=x?arguments.length-1:arguments.length;for(let K=0;K<z;K++)k[K]=q[K](arguments[K]);return x&&(k[z]=arguments[z].map(q[z])),A.apply(this,k)}}let P=S;if(g(w)){const x=w.length-1;P=function(){return S.apply(this,ae(arguments,0,x).concat([ae(arguments,x)]))}}return M&&Object.defineProperty(P,"name",{value:M}),P}function J(w){let A,S,M,P;const x=[],q=[];let $="";w.types.forEach(function(z){z.conversion&&($+=z.conversion.from+"~>"+z.conversion.to+",",x.push(s(z.conversion.from).test),q.push(z.conversion.convert))}),$?$=$.slice(0,-1):$="pass";let k=z=>z;switch(q.length){case 0:break;case 1:A=x[0],M=q[0],k=function(K){return A(K)?M(K):K};break;case 2:A=x[0],S=x[1],M=q[0],P=q[1],k=function(K){return A(K)?M(K):S(K)?P(K):K};break;default:k=function(K){for(let ue=0;ue<q.length;ue++)if(x[ue](K))return q[ue](K);return K}}return Object.defineProperty(k,"name",{value:$}),k}function ee(w){function A(S,M,P){if(M<S.length){const x=S[M];let q=[];if(x.restParam){const $=x.types.filter(T);$.length<x.types.length&&q.push({types:$,name:"..."+$.map(k=>k.name).join("|"),hasAny:$.some(k=>k.isAny),hasConversion:!1,restParam:!0}),q.push(x)}else q=x.types.map(function($){return{types:[$],name:$.name,hasAny:$.isAny,hasConversion:$.conversion,restParam:!1}});return xe(q,function($){return A(S,M+1,P.concat([$]))})}else return[P]}return A(w,0,[])}function ne(w,A){const S=Math.max(w.length,A.length);for(let $=0;$<S;$++){const k=_(w,$),z=_(A,$);let K=!1,ue;for(ue of z)if(k.has(ue)){K=!0;break}if(!K)return!1}const M=w.length,P=A.length,x=g(w),q=g(A);return x?q?M===P:P>=M:q?M>=P:M===P}function ie(w){return w.map(A=>nt(A)?Ze(A.referToSelf.callback):rt(A)?Se(A.referTo.references,A.referTo.callback):A)}function fe(w,A,S){const M=[];let P;for(P of w){let x=S[P];if(typeof x!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(x=A[x],typeof x!="function")return!1;M.push(x)}return M}function Ae(w,A,S){const M=ie(w),P=new Array(M.length).fill(!1);let x=!0;for(;x;){x=!1;let q=!0;for(let $=0;$<M.length;++$){if(P[$])continue;const k=M[$];if(nt(k))M[$]=k.referToSelf.callback(S),M[$].referToSelf=k.referToSelf,P[$]=!0,q=!1;else if(rt(k)){const z=fe(k.referTo.references,M,A);z?(M[$]=k.referTo.callback.apply(this,z),M[$].referTo=k.referTo,P[$]=!0,q=!1):x=!0}}if(q&&x)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return M}function Fe(w){const A=/\bthis(\(|\.signatures\b)/;Object.keys(w).forEach(S=>{const M=w[S];if(A.test(M.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ge(w,A){if(o.createCount++,Object.keys(A).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Fe(A);const S=[],M=[],P={},x=[];let q;for(q in A){if(!Object.prototype.hasOwnProperty.call(A,q))continue;const se=b(q);if(!se)continue;S.forEach(function(zt){if(ne(zt,se))throw new TypeError('Conflicting signatures "'+m(zt)+'" and "'+m(se)+'".')}),S.push(se);const Ue=M.length;M.push(A[q]);const ki=se.map(y);let Ht;for(Ht of ee(ki)){const zt=m(Ht);x.push({params:Ht,name:zt,fn:Ue}),Ht.every(Hi=>!Hi.hasConversion)&&(P[zt]=Ue)}}x.sort(L);const $=Ae(M,P,Ot);let k;for(k in P)Object.prototype.hasOwnProperty.call(P,k)&&(P[k]=$[P[k]]);const z=[],K=new Map;for(k of x)K.has(k.name)||(k.fn=$[k.fn],z.push(k),K.set(k.name,k));const ue=z[0]&&z[0].params.length<=2&&!g(z[0].params),Ce=z[1]&&z[1].params.length<=2&&!g(z[1].params),qe=z[2]&&z[2].params.length<=2&&!g(z[2].params),ze=z[3]&&z[3].params.length<=2&&!g(z[3].params),Ve=z[4]&&z[4].params.length<=2&&!g(z[4].params),Ye=z[5]&&z[5].params.length<=2&&!g(z[5].params),Ft=ue&&Ce&&qe&&ze&&Ve&&Ye;for(let se=0;se<z.length;++se)z[se].test=B(z[se].params);const Dr=ue?v(z[0].params[0]):Xe,Et=Ce?v(z[1].params[0]):Xe,kt=qe?v(z[2].params[0]):Xe,mi=ze?v(z[3].params[0]):Xe,vi=Ve?v(z[4].params[0]):Xe,gi=Ye?v(z[5].params[0]):Xe,wi=ue?v(z[0].params[1]):Xe,Fi=Ce?v(z[1].params[1]):Xe,Ei=qe?v(z[2].params[1]):Xe,yi=ze?v(z[3].params[1]):Xe,Ai=Ve?v(z[4].params[1]):Xe,Ci=Ye?v(z[5].params[1]):Xe;for(let se=0;se<z.length;++se)z[se].implementation=X(z[se].params,z[se].fn);const bi=ue?z[0].implementation:yt,Bi=Ce?z[1].implementation:yt,_i=qe?z[2].implementation:yt,Ni=ze?z[3].implementation:yt,Si=Ve?z[4].implementation:yt,Mi=Ye?z[5].implementation:yt,Ti=ue?z[0].params.length:-1,xi=Ce?z[1].params.length:-1,Ii=qe?z[2].params.length:-1,Oi=ze?z[3].params.length:-1,zi=Ve?z[4].params.length:-1,Pi=Ye?z[5].params.length:-1,Ri=Ft?6:0,$i=z.length,Li=z.map(se=>se.test),qi=z.map(se=>se.implementation),Ui=function(){for(let Ue=Ri;Ue<$i;Ue++)if(Li[Ue](arguments))return qi[Ue].apply(this,arguments);return o.onMismatch(w,arguments,z)};function Ot(se,Ue){return arguments.length===Ti&&Dr(se)&&wi(Ue)?bi.apply(this,arguments):arguments.length===xi&&Et(se)&&Fi(Ue)?Bi.apply(this,arguments):arguments.length===Ii&&kt(se)&&Ei(Ue)?_i.apply(this,arguments):arguments.length===Oi&&mi(se)&&yi(Ue)?Ni.apply(this,arguments):arguments.length===zi&&vi(se)&&Ai(Ue)?Si.apply(this,arguments):arguments.length===Pi&&gi(se)&&Ci(Ue)?Mi.apply(this,arguments):Ui.apply(this,arguments)}try{Object.defineProperty(Ot,"name",{value:w})}catch{}return Ot.signatures=P,Ot._typedFunctionData={signatures:z,signatureMap:K},Ot}function pe(w,A,S){throw R(w,A,S)}function $e(w){return ae(w,0,w.length-1)}function ce(w){return w[w.length-1]}function ae(w,A,S){return Array.prototype.slice.call(w,A,S)}function We(w,A){for(let S=0;S<w.length;S++)if(A(w[S]))return w[S]}function xe(w,A){return Array.prototype.concat.apply([],w.map(A))}function le(){const w=$e(arguments).map(S=>m(b(S))),A=ce(arguments);if(typeof A!="function")throw new TypeError("Callback function expected as last argument");return Se(w,A)}function Se(w,A){return{referTo:{references:w,callback:A}}}function Ze(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function rt(w){return w&&typeof w.referTo=="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function nt(w){return w&&typeof w.referToSelf=="object"&&typeof w.referToSelf.callback=="function"}function gt(w,A){if(!w)return A;if(A&&A!==w){const S=new Error("Function names do not match (expected: "+w+", actual: "+A+")");throw S.data={actual:A,expected:w},S}return w}function wt(w){let A;for(const S in w)Object.prototype.hasOwnProperty.call(w,S)&&(h(w[S])||typeof w[S].signature=="string")&&(A=gt(A,w[S].name));return A}function pr(w,A){let S;for(S in A)if(Object.prototype.hasOwnProperty.call(A,S)){if(S in w&&A[S]!==w[S]){const M=new Error('Signature "'+S+'" is defined twice');throw M.data={signature:S,sourceFunction:A[S],destFunction:w[S]},M}w[S]=A[S]}}const di=o;o=function(w){const A=typeof w=="string",S=A?1:0;let M=A?w:"";const P={};for(let x=S;x<arguments.length;++x){const q=arguments[x];let $={},k;if(typeof q=="function"?(k=q.name,typeof q.signature=="string"?$[q.signature]=q:h(q)&&($=q.signatures)):e(q)&&($=q,A||(k=wt(q))),Object.keys($).length===0){const z=new TypeError("Argument to 'typed' at index "+x+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw z.data={index:x,argument:q},z}A||(M=gt(M,k)),pr(P,$)}return ge(M||"",P)},o.create=Cn,o.createCount=di.createCount,o.onMismatch=pe,o.throwMismatchError=pe,o.createError=R,o.clear=f,o.clearConversions=D,o.addTypes=l,o._findType=s,o.referTo=le,o.referToSelf=Ze,o.convert=a,o.findSignature=p,o.find=d,o.isTypedFunction=h,o.warnAgainstDeprecatedThis=!0,o.addType=function(w,A){let S="any";A!==!1&&n.has("Object")&&(S="Object"),o.addTypes([w],S)};function zr(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return o.addConversion=function(w){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};zr(w);const S=s(w.to),M=S.conversionsTo.find(P=>P.from===w.from);if(M)if(A&&A.override)o.removeConversion({from:M.from,to:w.to,convert:M.convert});else throw new Error('There is already a conversion from "'+w.from+'" to "'+S.name+'"');S.conversionsTo.push({from:w.from,to:S.name,convert:w.convert,index:u++})},o.addConversions=function(w,A){w.forEach(S=>o.addConversion(S,A))},o.removeConversion=function(w){zr(w);const A=s(w.to),S=We(A.conversionsTo,P=>P.from===w.from);if(!S)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(S.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");const M=A.conversionsTo.indexOf(S);A.conversionsTo.splice(M,1)},o.resolve=function(w,A){if(!h(w))throw new TypeError($r);const S=w._typedFunctionData.signatures;for(let M=0;M<S.length;++M)if(S[M].test(A))return S[M];return null},o}const Qt=Cn();function re(e,t,r,n){function i(u){var o=Ju(u,t.map(to));return Qu(e,t,u),r(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function Qu(e,t,r){var n=t.filter(u=>!eo(u)).every(u=>r[u]!==void 0);if(!n){var i=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function eo(e){return e&&e[0]==="?"}function to(e){return e&&e[0]==="?"?e.slice(1):e}function de(e){return typeof e=="boolean"?!0:Number.isFinite(e)?e===Math.round(e):!1}function dr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!de(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!de(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(u)}function wr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=bn(t);switch(r){case"fixed":return Bn(e,n);case"exponential":return _n(e,n);case"engineering":return ro(e,n);case"bin":return dr(e,2,i);case"oct":return dr(e,8,i);case"hex":return dr(e,16,i);case"auto":return no(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bn(e){var t="auto",r,n;if(e!==void 0)if(oe(e))r=e;else if(ye(e))r=e.toNumber();else if(_r(e))e.precision!==void 0&&(r=Lr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Lr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function qt(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function ro(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var r=qt(e),n=or(r,t),i=n.exponent,u=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(oe(t))for(;t>u.length||i-o+1>u.length;)u.push(0);else for(var s=Math.abs(i-o)-(u.length-1),l=0;l<s;l++)u.push(0);for(var f=Math.abs(i-o),D=1;f>0;)D++,f--;var c=u.slice(D).join(""),h=oe(t)&&c.length||c.match(/[1-9]/)?"."+c:"",p=u.slice(0,D).join("")+h+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}function Bn(e,t){if(isNaN(e)||!Number.isFinite(e))return String(e);var r=qt(e),n=typeof t=="number"?or(r,r.exponent+1+t):r,i=n.coefficients,u=n.exponent+1,o=u+(t||0);return i.length<o&&(i=i.concat(Nt(o-i.length))),u<0&&(i=Nt(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function _n(e,t){if(isNaN(e)||!Number.isFinite(Number(e)))return String(e);var r=qt(e),n=t?or(r,t):r,i=n.coefficients,u=n.exponent;i.length<t&&(i=i.concat(Nt(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function no(e,t,r){if(isNaN(e)||!Number.isFinite(e))return String(e);var n=qr(r?.lowerExp,-3),i=qr(r?.upperExp,5),u=qt(e),o=t?or(u,t):u;if(o.exponent<n||o.exponent>=i)return _n(e,t);var s=o.coefficients,l=o.exponent;s.length<t&&(s=s.concat(Nt(t-s.length))),s=s.concat(Nt(l-s.length+1+(s.length<t?t-s.length:0))),s=Nt(-l).concat(s);var f=l>0?l:0;return f<s.length-1&&s.splice(f+1,0,"."),o.sign+s.join("")}function or(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var u=t-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),r.exponent++,u++),u--,n[u]++}}return r}function Nt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function io(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Mt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!Number.isFinite(e)||!Number.isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function Lr(e,t){if(oe(e))return e;if(ye(e))return e.toNumber();t()}function qr(e,t){return oe(e)?e:ye(e)?e.toNumber():t}var Nn=function(){return Nn=Qt.create,Qt},uo=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],oo=re("typed",uo,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:u}=t,o=Nn();return o.clear(),o.addTypes([{name:"number",test:oe},{name:"Complex",test:En},{name:"BigNumber",test:ye},{name:"bigint",test:wu},{name:"Fraction",test:yn},{name:"Unit",test:An},{name:"identifier",test:s=>Qe&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Qe},{name:"Chain",test:Xu},{name:"Array",test:_e},{name:"Matrix",test:Be},{name:"DenseMatrix",test:Fu},{name:"SparseMatrix",test:Eu},{name:"Range",test:yu},{name:"Index",test:Br},{name:"boolean",test:Au},{name:"ResultSet",test:Cu},{name:"Help",test:bu},{name:"function",test:Bu},{name:"Date",test:_u},{name:"RegExp",test:Nu},{name:"null",test:Mu},{name:"undefined",test:Tu},{name:"AccessorNode",test:xu},{name:"ArrayNode",test:Iu},{name:"AssignmentNode",test:Ou},{name:"BlockNode",test:zu},{name:"ConditionalNode",test:Pu},{name:"ConstantNode",test:Ru},{name:"FunctionNode",test:Lu},{name:"FunctionAssignmentNode",test:$u},{name:"IndexNode",test:qu},{name:"Node",test:Uu},{name:"ObjectNode",test:ku},{name:"OperatorNode",test:Hu},{name:"ParenthesisNode",test:Wu},{name:"RangeNode",test:Zu},{name:"RelationalNode",test:Vu},{name:"SymbolNode",test:Yu},{name:"Map",test:Su},{name:"Object",test:_r}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Wt(l),io(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||Zt(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||Zt(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Wt(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return u||Vt(l),new u(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||Zt(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||Vt(l);var f=new u(l);if(f.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(l){var f=Number(l);if(isNaN(f))throw new Error('Cannot convert "'+l+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(l){r||Wt(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){u||Vt(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||Zt(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Wt(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||Vt(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||so(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,f)=>{var D=o.createError(s,l,f);if(["wrongType","mismatch"].includes(D.data.category)&&l.length===1&&jt(l[0])&&f.some(h=>!h.params.includes(","))){var c=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw c.data=D.data,c}throw D},o.onMismatch=(s,l,f)=>{var D=o.createError(s,l,f);if(["wrongType","mismatch"].includes(D.data.category)&&l.length===1&&jt(l[0])&&f.some(h=>!h.params.includes(","))){var c=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw c.data=D.data,c}throw D},o});function Wt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Zt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function so(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Vt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Bt=9e15,Dt=1e9,Fr="0123456789abcdef",er="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Er={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Bt,maxE:Bt,crypto:!1},Sn,ut,Q=!0,sr="[DecimalError] ",ht=sr+"Invalid argument: ",Mn=sr+"Precision limit exceeded",Tn=sr+"crypto unavailable",xn="[object Decimal]",Re=Math.floor,Ne=Math.pow,ao=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,fo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,co=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,In=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ke=1e7,G=7,lo=9007199254740991,ho=er.length-1,yr=tr.length-1,I={toStringTag:xn};I.absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),V(e)};I.ceil=function(){return V(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(ht+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};I.comparedTo=I.cmp=function(e){var t,r,n,i,u=this,o=u.d,s=(e=new u.constructor(e)).d,l=u.s,f=e.s;if(!o||!s)return!l||!f?NaN:l!==f?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-f:0;if(l!==f)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(n=o.length,i=s.length,t=0,r=n<i?n:i;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};I.cosine=I.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+G,n.rounding=1,r=po(n,$n(n,r)),n.precision=e,n.rounding=t,V(ut==2||ut==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};I.cubeRoot=I.cbrt=function(){var e,t,r,n,i,u,o,s,l,f,D=this,c=D.constructor;if(!D.isFinite()||D.isZero())return new c(D);for(Q=!1,u=D.s*Ne(D.s*D,1/3),!u||Math.abs(u)==1/0?(r=Ie(D.d),e=D.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=Ne(r,1/3),e=Re((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new c(r),n.s=D.s):n=new c(u.toString()),o=(e=c.precision)+3;;)if(s=n,l=s.times(s).times(s),f=l.plus(D),n=he(f.plus(D).times(s),f.plus(l),o+2,1),Ie(s.d).slice(0,o)===(r=Ie(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(V(s,e+1,0),s.times(s).times(s).eq(D))){n=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(V(n,e+1,1),t=!n.times(n).times(n).eq(D));break}return Q=!0,V(n,e,c.rounding,t)};I.decimalPlaces=I.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Re(this.e/G))*G,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};I.dividedBy=I.div=function(e){return he(this,new this.constructor(e))};I.dividedToIntegerBy=I.divToInt=function(e){var t=this,r=t.constructor;return V(he(t,new r(e),0,1,1),r.precision,r.rounding)};I.equals=I.eq=function(e){return this.cmp(e)===0};I.floor=function(){return V(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(e){return this.cmp(e)>0};I.greaterThanOrEqualTo=I.gte=function(e){var t=this.cmp(e);return t==1||t===0};I.hyperbolicCosine=I.cosh=function(){var e,t,r,n,i,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/fr(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=Tt(o,1,u.times(t),new o(1),!0);for(var l,f=e,D=new o(8);f--;)l=u.times(u),u=s.minus(l.times(D.minus(l.times(D))));return V(u,o.precision=r,o.rounding=n,!0)};I.hyperbolicSine=I.sinh=function(){var e,t,r,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=Tt(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/fr(5,e)),i=Tt(u,2,i,i,!0);for(var o,s=new u(5),l=new u(16),f=new u(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(f))))}return u.precision=t,u.rounding=r,V(i,t,r,!0)};I.hyperbolicTangent=I.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,he(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};I.inverseCosine=I.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?et(t,n,i):new t(0):new t(NaN):e.isZero()?et(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};I.inverseHyperbolicCosine=I.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Q=!1,r=r.times(r).minus(1).sqrt().plus(r),Q=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};I.inverseHyperbolicSine=I.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Q=!1,r=r.times(r).plus(1).sqrt().plus(r),Q=!0,n.precision=e,n.rounding=t,r.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var e,t,r,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?V(new u(i),e,t,!0):(u.precision=r=n-i.e,i=he(i.plus(1),new u(1).minus(i),r+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};I.inverseSine=I.asin=function(){var e,t,r,n,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),r=u.precision,n=u.rounding,t!==-1?t===0?(e=et(u,r+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=n,i.times(2)))};I.inverseTangent=I.atan=function(){var e,t,r,n,i,u,o,s,l,f=this,D=f.constructor,c=D.precision,h=D.rounding;if(f.isFinite()){if(f.isZero())return new D(f);if(f.abs().eq(1)&&c+4<=yr)return o=et(D,c+4,h).times(.25),o.s=f.s,o}else{if(!f.s)return new D(NaN);if(c+4<=yr)return o=et(D,c+4,h).times(.5),o.s=f.s,o}for(D.precision=s=c+10,D.rounding=1,r=Math.min(28,s/G+2|0),e=r;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(Q=!1,t=Math.ceil(s/G),n=1,l=f.times(f),o=new D(f),i=f;e!==-1;)if(i=i.times(l),u=o.minus(i.div(n+=2)),i=i.times(l),o=u.plus(i.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),Q=!0,V(o,D.precision=c,D.rounding=h,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&Re(this.e/G)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(e){return this.cmp(e)<0};I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1};I.logarithm=I.log=function(e){var t,r,n,i,u,o,s,l,f=this,D=f.constructor,c=D.precision,h=D.rounding,p=5;if(e==null)e=new D(10),t=!0;else{if(e=new D(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new D(NaN);t=e.eq(10)}if(r=f.d,f.s<0||!r||!r[0]||f.eq(1))return new D(r&&!r[0]?-1/0:f.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(i=r[0];i%10===0;)i/=10;u=i!==1}if(Q=!1,s=c+p,o=ct(f,s),n=t?rr(D,s+10):ct(e,s),l=he(o,n,s,1),Lt(l.d,i=c,h))do if(s+=10,o=ct(f,s),n=t?rr(D,s+10):ct(e,s),l=he(o,n,s,1),!u){+Ie(l.d).slice(i+1,i+15)+1==1e14&&(l=V(l,c+1,0));break}while(Lt(l.d,i+=10,h));return Q=!0,V(l,c,h)};I.minus=I.sub=function(e){var t,r,n,i,u,o,s,l,f,D,c,h,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return!p.s||!e.s?e=new d(NaN):p.d?e.s=-e.s:e=new d(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(f=p.d,h=e.d,s=d.precision,l=d.rounding,!f[0]||!h[0]){if(h[0])e.s=-e.s;else if(f[0])e=new d(p);else return new d(l===3?-0:0);return Q?V(e,s,l):e}if(r=Re(e.e/G),D=Re(p.e/G),f=f.slice(),u=D-r,u){for(c=u<0,c?(t=f,u=-u,o=h.length):(t=h,r=D,o=f.length),n=Math.max(Math.ceil(s/G),o)+2,u>n&&(u=n,t.length=1),t.reverse(),n=u;n--;)t.push(0);t.reverse()}else{for(n=f.length,o=h.length,c=n<o,c&&(o=n),n=0;n<o;n++)if(f[n]!=h[n]){c=f[n]<h[n];break}u=0}for(c&&(t=f,f=h,h=t,e.s=-e.s),o=f.length,n=h.length-o;n>0;--n)f[o++]=0;for(n=h.length;n>u;){if(f[--n]<h[n]){for(i=n;i&&f[--i]===0;)f[i]=Ke-1;--f[i],f[n]+=Ke}f[n]-=h[n]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=ar(f,r),Q?V(e,s,l):e):new d(l===3?-0:0)};I.modulo=I.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?V(new n(r),n.precision,n.rounding):(Q=!1,n.modulo==9?(t=he(r,e.abs(),0,3,1),t.s*=e.s):t=he(r,e,0,n.modulo,1),t=t.times(e),Q=!0,r.minus(t))};I.naturalExponential=I.exp=function(){return Ar(this)};I.naturalLogarithm=I.ln=function(){return ct(this)};I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s,V(e)};I.plus=I.add=function(e){var t,r,n,i,u,o,s,l,f,D,c=this,h=c.constructor;if(e=new h(e),!c.d||!e.d)return!c.s||!e.s?e=new h(NaN):c.d||(e=new h(e.d||c.s===e.s?c:NaN)),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(f=c.d,D=e.d,s=h.precision,l=h.rounding,!f[0]||!D[0])return D[0]||(e=new h(c)),Q?V(e,s,l):e;if(u=Re(c.e/G),n=Re(e.e/G),f=f.slice(),i=u-n,i){for(i<0?(r=f,i=-i,o=D.length):(r=D,n=u,o=f.length),u=Math.ceil(s/G),o=u>o?u+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=f.length,i=D.length,o-i<0&&(i=o,r=D,D=f,f=r),t=0;i;)t=(f[--i]=f[i]+D[i]+t)/Ke|0,f[i]%=Ke;for(t&&(f.unshift(t),++n),o=f.length;f[--o]==0;)f.pop();return e.d=f,e.e=ar(f,n),Q?V(e,s,l):e};I.precision=I.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ht+e);return r.d?(t=On(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};I.round=function(){var e=this,t=e.constructor;return V(new t(e),e.e+1,t.rounding)};I.sine=I.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+G,n.rounding=1,r=mo(n,$n(n,r)),n.precision=e,n.rounding=t,V(ut>2?r.neg():r,e,t,!0)):new n(NaN)};I.squareRoot=I.sqrt=function(){var e,t,r,n,i,u,o=this,s=o.d,l=o.e,f=o.s,D=o.constructor;if(f!==1||!s||!s[0])return new D(!f||f<0&&(!s||s[0])?NaN:s?o:1/0);for(Q=!1,f=Math.sqrt(+o),f==0||f==1/0?(t=Ie(s),(t.length+l)%2==0&&(t+="0"),f=Math.sqrt(t),l=Re((l+1)/2)-(l<0||l%2),f==1/0?t="5e"+l:(t=f.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new D(t)):n=new D(f.toString()),r=(l=D.precision)+3;;)if(u=n,n=u.plus(he(o,u,r+2,1)).times(.5),Ie(u.d).slice(0,r)===(t=Ie(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(V(u,l+1,0),u.times(u).eq(o))){n=u;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(V(n,l+1,1),e=!n.times(n).eq(o));break}return Q=!0,V(n,l,D.rounding,e)};I.tangent=I.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=he(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,V(ut==2||ut==4?r.neg():r,e,t,!0)):new n(NaN)};I.times=I.mul=function(e){var t,r,n,i,u,o,s,l,f,D=this,c=D.constructor,h=D.d,p=(e=new c(e)).d;if(e.s*=D.s,!h||!h[0]||!p||!p[0])return new c(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:!h||!p?e.s/0:e.s*0);for(r=Re(D.e/G)+Re(e.e/G),l=h.length,f=p.length,l<f&&(u=h,h=p,p=u,o=l,l=f,f=o),u=[],o=l+f,n=o;n--;)u.push(0);for(n=f;--n>=0;){for(t=0,i=l+n;i>n;)s=u[i]+p[n]*h[i-n-1]+t,u[i--]=s%Ke|0,t=s/Ke|0;u[i]=(u[i]+t)%Ke|0}for(;!u[--o];)u.pop();return t?++r:u.shift(),e.d=u,e.e=ar(u,r),Q?V(e,c.precision,c.rounding):e};I.toBinary=function(e,t){return Nr(this,2,e,t)};I.toDecimalPlaces=I.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(He(e,0,Dt),t===void 0?t=n.rounding:He(t,0,8),V(r,e+r.e+1,t))};I.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=tt(n,!0):(He(e,0,Dt),t===void 0?t=i.rounding:He(t,0,8),n=V(new i(n),e+1,t),r=tt(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toFixed=function(e,t){var r,n,i=this,u=i.constructor;return e===void 0?r=tt(i):(He(e,0,Dt),t===void 0?t=u.rounding:He(t,0,8),n=V(new u(i),e+i.e+1,t),r=tt(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};I.toFraction=function(e){var t,r,n,i,u,o,s,l,f,D,c,h,p=this,d=p.d,a=p.constructor;if(!d)return new a(p);if(f=r=new a(1),n=l=new a(0),t=new a(n),u=t.e=On(d)-p.e-1,o=u%G,t.d[0]=Ne(10,o<0?G+o:o),e==null)e=u>0?t:f;else{if(s=new a(e),!s.isInt()||s.lt(f))throw Error(ht+s);e=s.gt(t)?u>0?t:f:s}for(Q=!1,s=new a(Ie(d)),D=a.precision,a.precision=u=d.length*G*2;c=he(s,t,0,1,1),i=r.plus(c.times(n)),i.cmp(e)!=1;)r=n,n=i,i=f,f=l.plus(c.times(i)),l=i,i=t,t=s.minus(c.times(i)),s=i;return i=he(e.minus(r),n,0,1,1),l=l.plus(i.times(f)),r=r.plus(i.times(n)),l.s=f.s=p.s,h=he(f,n,u,1).minus(p).abs().cmp(he(l,r,u,1).minus(p).abs())<1?[f,n]:[l,r],a.precision=D,Q=!0,h};I.toHexadecimal=I.toHex=function(e,t){return Nr(this,16,e,t)};I.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:He(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(Q=!1,r=he(r,e,0,t,1).times(e),Q=!0,V(r)):(e.s=r.s,r=e),r};I.toNumber=function(){return+this};I.toOctal=function(e,t){return Nr(this,8,e,t)};I.toPower=I.pow=function(e){var t,r,n,i,u,o,s=this,l=s.constructor,f=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(Ne(+s,f));if(s=new l(s),s.eq(1))return s;if(n=l.precision,u=l.rounding,e.eq(1))return V(s,n,u);if(t=Re(e.e/G),t>=e.d.length-1&&(r=f<0?-f:f)<=lo)return i=zn(l,s,r,n),e.s<0?new l(1).div(i):V(i,n,u);if(o=s.s,o<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=Ne(+s,f),t=r==0||!isFinite(r)?Re(f*(Math.log("0."+Ie(s.d))/Math.LN10+s.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(Q=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),i=Ar(e.times(ct(s,n+r)),n),i.d&&(i=V(i,n+5,1),Lt(i.d,n,u)&&(t=n+10,i=V(Ar(e.times(ct(s,t+r)),t),t+5,1),+Ie(i.d).slice(n+1,n+15)+1==1e14&&(i=V(i,n+1,0)))),i.s=o,Q=!0,l.rounding=u,V(i,n,u))};I.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=tt(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(He(e,1,Dt),t===void 0?t=i.rounding:He(t,0,8),n=V(new i(n),e,t),r=tt(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toSignificantDigits=I.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(He(e,1,Dt),t===void 0?t=n.rounding:He(t,0,8)),V(new n(r),e,t)};I.toString=function(){var e=this,t=e.constructor,r=tt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};I.truncated=I.trunc=function(){return V(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var e=this,t=e.constructor,r=tt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Ie(e){var t,r,n,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,t=1;t<i;t++)n=e[t]+"",r=G-n.length,r&&(u+=ft(r)),u+=n;o=e[t],n=o+"",r=G-n.length,r&&(u+=ft(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function He(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ht+e)}function Lt(e,t,r,n){var i,u,o,s;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=G,i=0):(i=Math.ceil((t+1)/G),t%=G),u=Ne(10,G-t),s=e[i]%u|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==u||r>3&&s+1==u/2)&&(e[i+1]/u/100|0)==Ne(10,t-2)-1||(s==u/2||s==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==u||!n&&r>3&&s+1==u/2)&&(e[i+1]/u/1e3|0)==Ne(10,t-3)-1,o}function Yt(e,t,r){for(var n,i=[0],u,o=0,s=e.length;o<s;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Fr.indexOf(e.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function po(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/fr(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=Tt(e,1,t.times(i),new e(1));for(var u=r;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var he=(function(){function e(n,i,u){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%u|0,s=o/u|0;return s&&n.unshift(s),n}function t(n,i,u,o){var s,l;if(u!=o)l=u>o?1:-1;else for(s=l=0;s<u;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,u,o){for(var s=0;u--;)n[u]-=s,s=n[u]<i[u]?1:0,n[u]=s*o+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,o,s,l){var f,D,c,h,p,d,a,m,E,y,F,b,g,v,B,C,_,T,O,R,Z=n.constructor,Y=n.s==i.s?1:-1,H=n.d,L=i.d;if(!H||!H[0]||!L||!L[0])return new Z(!n.s||!i.s||(H?L&&H[0]==L[0]:!L)?NaN:H&&H[0]==0||!L?Y*0:Y/0);for(l?(p=1,D=n.e-i.e):(l=Ke,p=G,D=Re(n.e/p)-Re(i.e/p)),O=L.length,_=H.length,E=new Z(Y),y=E.d=[],c=0;L[c]==(H[c]||0);c++);if(L[c]>(H[c]||0)&&D--,u==null?(v=u=Z.precision,o=Z.rounding):s?v=u+(n.e-i.e)+1:v=u,v<0)y.push(1),d=!0;else{if(v=v/p+2|0,c=0,O==1){for(h=0,L=L[0],v++;(c<_||h)&&v--;c++)B=h*l+(H[c]||0),y[c]=B/L|0,h=B%L|0;d=h||c<_}else{for(h=l/(L[0]+1)|0,h>1&&(L=e(L,h,l),H=e(H,h,l),O=L.length,_=H.length),C=O,F=H.slice(0,O),b=F.length;b<O;)F[b++]=0;R=L.slice(),R.unshift(0),T=L[0],L[1]>=l/2&&++T;do h=0,f=t(L,F,O,b),f<0?(g=F[0],O!=b&&(g=g*l+(F[1]||0)),h=g/T|0,h>1?(h>=l&&(h=l-1),a=e(L,h,l),m=a.length,b=F.length,f=t(a,F,m,b),f==1&&(h--,r(a,O<m?R:L,m,l))):(h==0&&(f=h=1),a=L.slice()),m=a.length,m<b&&a.unshift(0),r(F,a,b,l),f==-1&&(b=F.length,f=t(L,F,O,b),f<1&&(h++,r(F,O<b?R:L,b,l))),b=F.length):f===0&&(h++,F=[0]),y[c++]=h,f&&F[0]?F[b++]=H[C]||0:(F=[H[C]],b=1);while((C++<_||F[0]!==void 0)&&v--);d=F[0]!==void 0}y[0]||y.shift()}if(p==1)E.e=D,Sn=d;else{for(c=1,h=y[0];h>=10;h/=10)c++;E.e=c+D*p-1,V(E,s?u+E.e+1:u,o,d)}return E}})();function V(e,t,r,n){var i,u,o,s,l,f,D,c,h,p=e.constructor;e:if(t!=null){if(c=e.d,!c)return e;for(i=1,s=c[0];s>=10;s/=10)i++;if(u=t-i,u<0)u+=G,o=t,D=c[h=0],l=D/Ne(10,i-o-1)%10|0;else if(h=Math.ceil((u+1)/G),s=c.length,h>=s)if(n){for(;s++<=h;)c.push(0);D=l=0,i=1,u%=G,o=u-G+1}else break e;else{for(D=s=c[h],i=1;s>=10;s/=10)i++;u%=G,o=u-G+i,l=o<0?0:D/Ne(10,i-o-1)%10|0}if(n=n||t<0||c[h+1]!==void 0||(o<0?D:D%Ne(10,i-o-1)),f=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(u>0?o>0?D/Ne(10,i-o):0:c[h-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,f?(t-=e.e+1,c[0]=Ne(10,(G-t%G)%G),e.e=-t||0):c[0]=e.e=0,e;if(u==0?(c.length=h,s=1,h--):(c.length=h+1,s=Ne(10,G-u),c[h]=o>0?(D/Ne(10,i-o)%Ne(10,o)|0)*s:0),f)for(;;)if(h==0){for(u=1,o=c[0];o>=10;o/=10)u++;for(o=c[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(e.e++,c[0]==Ke&&(c[0]=1));break}else{if(c[h]+=s,c[h]!=Ke)break;c[h--]=0,s=1}for(u=c.length;c[--u]===0;)c.pop()}return Q&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function tt(e,t,r){if(!e.isFinite())return Rn(e);var n,i=e.e,u=Ie(e.d),o=u.length;return t?(r&&(n=r-o)>0?u=u.charAt(0)+"."+u.slice(1)+ft(n):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+ft(-i-1)+u,r&&(n=r-o)>0&&(u+=ft(n))):i>=o?(u+=ft(i+1-o),r&&(n=r-i-1)>0&&(u=u+"."+ft(n))):((n=i+1)<o&&(u=u.slice(0,n)+"."+u.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(u+="."),u+=ft(n))),u}function ar(e,t){var r=e[0];for(t*=G;r>=10;r/=10)t++;return t}function rr(e,t,r){if(t>ho)throw Q=!0,r&&(e.precision=r),Error(Mn);return V(new e(er),t,1,!0)}function et(e,t,r){if(t>yr)throw Error(Mn);return V(new e(tr),t,r,!0)}function On(e){var t=e.length-1,r=t*G+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function ft(e){for(var t="";e--;)t+="0";return t}function zn(e,t,r,n){var i,u=new e(1),o=Math.ceil(n/G+4);for(Q=!1;;){if(r%2&&(u=u.times(t),kr(u.d,o)&&(i=!0)),r=Re(r/2),r===0){r=u.d.length-1,i&&u.d[r]===0&&++u.d[r];break}t=t.times(t),kr(t.d,o)}return Q=!0,u}function Ur(e){return e.d[e.d.length-1]&1}function Pn(e,t,r){for(var n,i,u=new e(t[0]),o=0;++o<t.length;){if(i=new e(t[o]),!i.s){u=i;break}n=u.cmp(i),(n===r||n===0&&u.s===r)&&(u=i)}return u}function Ar(e,t){var r,n,i,u,o,s,l,f=0,D=0,c=0,h=e.constructor,p=h.rounding,d=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Q=!1,l=d):l=t,s=new h(.03125);e.e>-2;)e=e.times(s),c+=5;for(n=Math.log(Ne(2,c))/Math.LN10*2+5|0,l+=n,r=u=o=new h(1),h.precision=l;;){if(u=V(u.times(e),l,1),r=r.times(++D),s=o.plus(he(u,r,l,1)),Ie(s.d).slice(0,l)===Ie(o.d).slice(0,l)){for(i=c;i--;)o=V(o.times(o),l,1);if(t==null)if(f<3&&Lt(o.d,l-n,p,f))h.precision=l+=10,r=u=s=new h(1),D=0,f++;else return V(o,h.precision=d,p,Q=!0);else return h.precision=d,o}o=s}}function ct(e,t){var r,n,i,u,o,s,l,f,D,c,h,p=1,d=10,a=e,m=a.d,E=a.constructor,y=E.rounding,F=E.precision;if(a.s<0||!m||!m[0]||!a.e&&m[0]==1&&m.length==1)return new E(m&&!m[0]?-1/0:a.s!=1?NaN:m?0:a);if(t==null?(Q=!1,D=F):D=t,E.precision=D+=d,r=Ie(m),n=r.charAt(0),Math.abs(u=a.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)a=a.times(e),r=Ie(a.d),n=r.charAt(0),p++;u=a.e,n>1?(a=new E("0."+r),u++):a=new E(n+"."+r.slice(1))}else return f=rr(E,D+2,F).times(u+""),a=ct(new E(n+"."+r.slice(1)),D-d).plus(f),E.precision=F,t==null?V(a,F,y,Q=!0):a;for(c=a,l=o=a=he(a.minus(1),a.plus(1),D,1),h=V(a.times(a),D,1),i=3;;){if(o=V(o.times(h),D,1),f=l.plus(he(o,new E(i),D,1)),Ie(f.d).slice(0,D)===Ie(l.d).slice(0,D))if(l=l.times(2),u!==0&&(l=l.plus(rr(E,D+2,F).times(u+""))),l=he(l,new E(p),D,1),t==null)if(Lt(l.d,D-d,y,s))E.precision=D+=d,f=o=a=he(c.minus(1),c.plus(1),D,1),h=V(a.times(a),D,1),i=s=1;else return V(l,E.precision=F,y,Q=!0);else return E.precision=F,l;l=f,i+=2}}function Rn(e){return String(e.s*e.s/0)}function Xt(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%G,r<0&&(n+=G),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=G;n<i;)e.d.push(+t.slice(n,n+=G));t=t.slice(n),n=G-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),Q&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Do(e,t){var r,n,i,u,o,s,l,f,D;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),In.test(t))return Xt(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(fo.test(t))r=16,t=t.toLowerCase();else if(ao.test(t))r=2;else if(co.test(t))r=8;else throw Error(ht+t);for(u=t.search(/p/i),u>0?(l=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,n=e.constructor,o&&(t=t.replace(".",""),s=t.length,u=s-u,i=zn(n,new n(r),u,u*2)),f=Yt(t,r,Ke),D=f.length-1,u=D;f[u]===0;--u)f.pop();return u<0?new n(e.s*0):(e.e=ar(f,D),e.d=f,Q=!1,o&&(e=he(e,i,s*4)),l&&(e=e.times(Math.abs(l)<54?Ne(2,l):xt.pow(2,l))),Q=!0,e)}function mo(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Tt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/fr(5,r)),t=Tt(e,2,t,t);for(var i,u=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(u.plus(i.times(o.times(i).minus(s))));return t}function Tt(e,t,r,n,i){var u,o,s,l,f=e.precision,D=Math.ceil(f/G);for(Q=!1,l=r.times(r),s=new e(n);;){if(o=he(s.times(l),new e(t++*t++),f,1),s=i?n.plus(o):n.minus(o),n=he(o.times(l),new e(t++*t++),f,1),o=s.plus(n),o.d[D]!==void 0){for(u=D;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=n,n=o,o=u}return Q=!0,o.d.length=D+1,o}function fr(e,t){for(var r=e;--t;)r*=e;return r}function $n(e,t){var r,n=t.s<0,i=et(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return ut=n?4:1,t;if(r=t.divToInt(i),r.isZero())ut=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(u))return ut=Ur(r)?n?2:3:n?4:1,t;ut=Ur(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Nr(e,t,r,n){var i,u,o,s,l,f,D,c,h,p=e.constructor,d=r!==void 0;if(d?(He(r,1,Dt),n===void 0?n=p.rounding:He(n,0,8)):(r=p.precision,n=p.rounding),!e.isFinite())D=Rn(e);else{for(D=tt(e),o=D.indexOf("."),d?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,o>=0&&(D=D.replace(".",""),h=new p(1),h.e=D.length-o,h.d=Yt(tt(h),10,i),h.e=h.d.length),c=Yt(D,10,i),u=l=c.length;c[--l]==0;)c.pop();if(!c[0])D=d?"0p+0":"0";else{if(o<0?u--:(e=new p(e),e.d=c,e.e=u,e=he(e,h,r,n,0,i),c=e.d,u=e.e,f=Sn),o=c[r],s=i/2,f=f||c[r+1]!==void 0,f=n<4?(o!==void 0||f)&&(n===0||n===(e.s<0?3:2)):o>s||o===s&&(n===4||f||n===6&&c[r-1]&1||n===(e.s<0?8:7)),c.length=r,f)for(;++c[--r]>i-1;)c[r]=0,r||(++u,c.unshift(1));for(l=c.length;!c[l-1];--l);for(o=0,D="";o<l;o++)D+=Fr.charAt(c[o]);if(d){if(l>1)if(t==16||t==8){for(o=t==16?4:3,--l;l%o;l++)D+="0";for(c=Yt(D,i,t),l=c.length;!c[l-1];--l);for(o=1,D="1.";o<l;o++)D+=Fr.charAt(c[o])}else D=D.charAt(0)+"."+D.slice(1);D=D+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)D="0"+D;D="0."+D}else if(++u>l)for(u-=l;u--;)D+="0";else u<l&&(D=D.slice(0,u)+"."+D.slice(u))}D=(t==16?"0x":t==2?"0b":t==8?"0o":"")+D}return e.s<0?"-"+D:D}function kr(e,t){if(e.length>t)return e.length=t,!0}function vo(e){return new this(e).abs()}function go(e){return new this(e).acos()}function wo(e){return new this(e).acosh()}function Fo(e,t){return new this(e).plus(t)}function Eo(e){return new this(e).asin()}function yo(e){return new this(e).asinh()}function Ao(e){return new this(e).atan()}function Co(e){return new this(e).atanh()}function bo(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,u=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=et(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?et(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=et(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(he(e,t,u,1)),t=et(this,u,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(he(e,t,u,1)),r}function Bo(e){return new this(e).cbrt()}function _o(e){return V(e=new this(e),e.e+1,2)}function No(e,t,r){return new this(e).clamp(t,r)}function So(e){if(!e||typeof e!="object")throw Error(sr+"Object expected");var t,r,n,i=e.defaults===!0,u=["precision",1,Dt,"rounding",0,8,"toExpNeg",-Bt,0,"toExpPos",0,Bt,"maxE",0,Bt,"minE",-Bt,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],i&&(this[r]=Er[r]),(n=e[r])!==void 0)if(Re(n)===n&&n>=u[t+1]&&n<=u[t+2])this[r]=n;else throw Error(ht+r+": "+n);if(r="crypto",i&&(this[r]=Er[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Tn);else this[r]=!1;else throw Error(ht+r+": "+n);return this}function Mo(e){return new this(e).cos()}function To(e){return new this(e).cosh()}function Ln(e){var t,r,n;function i(u){var o,s,l,f=this;if(!(f instanceof i))return new i(u);if(f.constructor=i,Hr(u)){f.s=u.s,Q?!u.d||u.e>i.maxE?(f.e=NaN,f.d=null):u.e<i.minE?(f.e=0,f.d=[0]):(f.e=u.e,f.d=u.d.slice()):(f.e=u.e,f.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){f.s=1/u<0?-1:1,f.e=0,f.d=[0];return}if(u<0?(u=-u,f.s=-1):f.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;Q?o>i.maxE?(f.e=NaN,f.d=null):o<i.minE?(f.e=0,f.d=[0]):(f.e=o,f.d=[u]):(f.e=o,f.d=[u]);return}if(u*0!==0){u||(f.s=NaN),f.e=NaN,f.d=null;return}return Xt(f,u.toString())}if(l==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),f.s=-1):(s===43&&(u=u.slice(1)),f.s=1),In.test(u)?Xt(f,u):Do(f,u);if(l==="bigint")return u<0?(u=-u,f.s=-1):f.s=1,Xt(f,u.toString());throw Error(ht+u)}if(i.prototype=I,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=So,i.clone=Ln,i.isDecimal=Hr,i.abs=vo,i.acos=go,i.acosh=wo,i.add=Fo,i.asin=Eo,i.asinh=yo,i.atan=Ao,i.atanh=Co,i.atan2=bo,i.cbrt=Bo,i.ceil=_o,i.clamp=No,i.cos=Mo,i.cosh=To,i.div=xo,i.exp=Io,i.floor=Oo,i.hypot=zo,i.ln=Po,i.log=Ro,i.log10=Lo,i.log2=$o,i.max=qo,i.min=Uo,i.mod=ko,i.mul=Ho,i.pow=Wo,i.random=Zo,i.round=Vo,i.sign=Yo,i.sin=Xo,i.sinh=Go,i.sqrt=Jo,i.sub=jo,i.sum=Ko,i.tan=Qo,i.tanh=es,i.trunc=ts,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function xo(e,t){return new this(e).div(t)}function Io(e){return new this(e).exp()}function Oo(e){return V(e=new this(e),e.e+1,3)}function zo(){var e,t,r=new this(0);for(Q=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return Q=!0,new this(1/0);r=t}return Q=!0,r.sqrt()}function Hr(e){return e instanceof xt||e&&e.toStringTag===xn||!1}function Po(e){return new this(e).ln()}function Ro(e,t){return new this(e).log(t)}function $o(e){return new this(e).log(2)}function Lo(e){return new this(e).log(10)}function qo(){return Pn(this,arguments,-1)}function Uo(){return Pn(this,arguments,1)}function ko(e,t){return new this(e).mod(t)}function Ho(e,t){return new this(e).mul(t)}function Wo(e,t){return new this(e).pow(t)}function Zo(e){var t,r,n,i,u=0,o=new this(1),s=[];if(e===void 0?e=this.precision:He(e,1,Dt),n=Math.ceil(e/G),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));u<n;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);u<n;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(s.push(i%1e7),u+=4);u=n/4}else throw Error(Tn);else for(;u<n;)s[u++]=Math.random()*1e7|0;for(n=s[--u],e%=G,n&&e&&(i=Ne(10,G-e),s[u]=(n/i|0)*i);s[u]===0;u--)s.pop();if(u<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=G)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<G&&(r-=G-n)}return o.e=r,o.d=s,o}function Vo(e){return V(e=new this(e),e.e+1,this.rounding)}function Yo(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Xo(e){return new this(e).sin()}function Go(e){return new this(e).sinh()}function Jo(e){return new this(e).sqrt()}function jo(e,t){return new this(e).sub(t)}function Ko(){var e=0,t=arguments,r=new this(t[e]);for(Q=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return Q=!0,V(r,this.precision,this.rounding)}function Qo(e){return new this(e).tan()}function es(e){return new this(e).tanh()}function ts(e){return V(e=new this(e),e.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var xt=I.constructor=Ln(Er);er=new xt(er);tr=new xt(tr);var rs="BigNumber",ns=["?on","config"],is=re(rs,ns,e=>{var{on:t,config:r}=e,n=xt.clone({precision:r.precision,modulo:xt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Pe=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ge=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},us=e=>{const t=Math.sin(.5*e);return-2*t*t},mr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},At=function(){throw SyntaxError("Invalid Param")};function vr(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const os={re:0,im:0},dt=function(e,t){const r=os;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return N.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return N.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):At();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&At();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?u++:s==="i"||s==="I"?(i+u===0&&At(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((u%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(s))&&At(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+s),o++):r.re+=parseFloat((u%2?"-":"")+s),i=u=0))}i+u>0&&At();break;case"number":r.im=0,r.re=e;break;default:At()}return isNaN(r.re)||isNaN(r.im),r};function N(e,t){if(!(this instanceof N))return new N(e,t);const r=dt(e,t);this.re=r.re,this.im=r.im}N.prototype={re:0,im:0,sign:function(){const e=mr(this.re,this.im);return new N(this.re/e,this.im/e)},add:function(e,t){const r=dt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?N.NAN:N.INFINITY:new N(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=dt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?N.NAN:N.INFINITY:new N(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=dt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||i&&u?N.NAN:n||i?N.INFINITY:r.im===0&&this.im===0?new N(this.re*r.re,0):new N(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=dt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(u&&o||n&&i)return N.NAN;if(o||n)return N.INFINITY;if(u||i)return N.ZERO;if(r.im===0)return new N(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,l=r.re*s+r.im;return new N((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=r.im/r.re,l=r.im*s+r.re;return new N((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(e,t){const r=dt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return N.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new N(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new N(Math.pow(this.im,r.re),0);case 1:return new N(0,Math.pow(this.im,r.re));case 2:return new N(-Math.pow(this.im,r.re),0);case 3:return new N(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return N.ZERO;const u=Math.atan2(this.im,this.re),o=vr(this.re,this.im);let s=Math.exp(r.re*o-r.im*u),l=r.im*o+r.re*u;return new N(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new N(Math.sqrt(e),0):new N(0,Math.sqrt(-e));const r=mr(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new N(n,t<0?-i:i):new N(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new N(e,0):new N(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new N(Math.expm1(e)*Math.cos(t)+us(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new N(Math.log(e),0):new N(vr(e,t),Math.atan2(t,e))},abs:function(){return mr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new N(Math.sin(e)*Pe(t),Math.cos(e)*Ge(t))},cos:function(){const e=this.re,t=this.im;return new N(Math.cos(e)*Pe(t),-Math.sin(e)*Ge(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Pe(t);return new N(Math.sin(e)/r,Ge(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Pe(t);return new N(-Math.sin(e)/r,Ge(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Pe(2*t)+.5*Math.cos(2*e);return new N(Math.cos(e)*Pe(t)/r,Math.sin(e)*Ge(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Pe(2*t)-.5*Math.cos(2*e);return new N(Math.sin(e)*Pe(t)/r,-Math.cos(e)*Ge(t)/r)},asin:function(){const e=this.re,t=this.im,r=new N(t*t-e*e+1,-2*e*t).sqrt(),n=new N(r.re-t,r.im+e).log();return new N(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new N(t*t-e*e+1,-2*e*t).sqrt(),n=new N(r.re-t,r.im+e).log();return new N(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new N(0,1/0);if(t===-1)return new N(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new N((1-t*t-e*e)/r,-2*e/r).log();return new N(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new N(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).atan():new N(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new N(0,1/0);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).acos():new N(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new N(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).asin():new N(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new N(Ge(e)*Math.cos(t),Pe(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new N(Pe(e)*Math.cos(t),Ge(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Pe(e)+Math.cos(t);return new N(Ge(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Pe(e)-Math.cos(t);return new N(Ge(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Pe(2*e);return new N(-2*Ge(e)*Math.cos(t)/r,2*Pe(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Pe(2*e);return new N(2*Pe(e)*Math.cos(t)/r,-2*Ge(e)*Math.sin(t)/r)},asinh:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new N(0,0);const u=Math.abs(e),o=Math.log(u+Math.sqrt(u*u+1));return new N(e<0?-o:o,0)}const r=e*e-t*t+1,n=2*e*t,i=new N(r,n).sqrt();return new N(e+i.re,t+i.im).log()},acosh:function(){const e=this.re,t=this.im;if(t===0){if(e>1)return new N(Math.log(e+Math.sqrt(e-1)*Math.sqrt(e+1)),0);if(e<-1){const i=Math.sqrt(e*e-1);return new N(Math.log(-e+i),Math.PI)}return new N(0,Math.acos(e))}const r=new N(e-1,t).sqrt(),n=new N(e+1,t).sqrt();return new N(e+r.re*n.re-r.im*n.im,t+r.re*n.im+r.im*n.re).log()},atanh:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new N(0,0);if(e===1)return new N(1/0,0);if(e===-1)return new N(-1/0,0);if(-1<e&&e<1)return new N(.5*Math.log((1+e)/(1-e)),0);if(e>1){const l=(e+1)/(e-1);return new N(.5*Math.log(l),-Math.PI/2)}const s=(1+e)/(1-e);return new N(.5*Math.log(-s),Math.PI/2)}const r=1-e,n=1+e,i=r*r+t*t;if(i===0)return new N(e!==-1?e/0:0,t!==0?t/0:0);const u=(n*r-t*t)/i,o=(t*r+n*t)/i;return new N(vr(u,o)/2,Math.atan2(o,u)/2)},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new N(0,Math.PI/2);const r=e*e+t*t;return r!==0?new N(e/r,-t/r).atanh():new N(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0){if(e===0)return new N(1/0,0);const n=1/e;return new N(Math.log(n+Math.sqrt(n*n+1)),0)}const r=e*e+t*t;return r!==0?new N(e/r,-t/r).asinh():new N(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return N.INFINITY;const r=e*e+t*t;return r!==0?new N(e/r,-t/r).acosh():new N(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return N.INFINITY;if(this.isInfinite())return N.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new N(e/r,-t/r)},conjugate:function(){return new N(this.re,-this.im)},neg:function(){return new N(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new N(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new N(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new N(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=dt(e,t);return Math.abs(r.re-this.re)<=N.EPSILON&&Math.abs(r.im-this.im)<=N.EPSILON},clone:function(){return new N(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<N.EPSILON&&(e=0),Math.abs(t)<N.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};N.ZERO=new N(0,0);N.ONE=new N(1,0);N.I=new N(0,1);N.PI=new N(Math.PI,0);N.E=new N(Math.E,0);N.INFINITY=new N(1/0,1/0);N.NAN=new N(NaN,NaN);N.EPSILON=1e-15;var ss="Complex",as=[],fs=re(ss,as,()=>(Object.defineProperty(N,"name",{value:"Complex"}),N.prototype.constructor=N,N.prototype.type="Complex",N.prototype.isComplex=!0,N.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},N.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},N.prototype.format=function(e){var t="",r=this.im,n=this.re,i=wr(this.re,e),u=wr(this.im,e),o=oe(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+u+"i",t},N.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return N(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(oe(r)){if(An(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),oe(n))return new N({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},N.prototype.valueOf=N.prototype.toString,N.fromJSON=function(e){return new N(e)},N.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},N),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const W=BigInt(0),te=BigInt(1),Te=BigInt(2),$t=BigInt(3),_t=BigInt(5),ke=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const cs=2e3,U={s:te,n:W,d:te};function it(e,t){try{e=BigInt(e)}catch{throw at()}return e*t}function je(e){return typeof e=="bigint"?e:Math.floor(e)}function De(e,t){if(t===W)throw Sr();const r=Object.create(Je.prototype);r.s=e<W?-te:te,e=e<W?-e:e;const n=mt(e,t);return r.n=e/n,r.d=t/n,r}const ls=[Te*Te,Te,Te*Te,Te,Te*Te,Te*$t,Te,Te*$t];function Ct(e){const t=Object.create(null);if(e<=te)return t[e]=te,t;const r=n=>{t[n]=(t[n]||W)+te};for(;e%Te===W;)r(Te),e/=Te;for(;e%$t===W;)r($t),e/=$t;for(;e%_t===W;)r(_t),e/=_t;for(let n=0,i=Te+_t;i*i<=e;){for(;e%i===W;)r(i),e/=i;i+=ls[n],n=n+1&7}return e>te&&r(e),t}const Me=function(e,t){let r=W,n=te,i=te;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw at();if(e%1!==0)throw Wr();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw at();if(t%1!==0)throw Wr();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw at();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw at();if(e<0&&(i=-te,e=-e),e%1===0)r=BigInt(e);else{let u=1,o=0,s=1,l=1,f=1,D=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);s<=D&&f<=D;){let c=(o+l)/(s+f);if(e===c){s+f<=D?(r=o+l,n=s+f):f>s?(r=l,n=f):(r=o,n=s);break}else e>c?(o+=l,s+=f):(l+=o,f+=s),s>D?(r=l,n=f):(r=o,n=s)}r=BigInt(r)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,o=W,s=W,l=W,f=te,D=te,c=e.replace(/_/g,"").match(/\d+|./g);if(c===null)throw at();if(c[u]==="-"?(i=-te,u++):c[u]==="+"&&u++,c.length===u+1?s=it(c[u++],i):c[u+1]==="."||c[u]==="."?(c[u]!=="."&&(o=it(c[u++],i)),u++,(u+1===c.length||c[u+1]==="("&&c[u+3]===")"||c[u+1]==="'"&&c[u+3]==="'")&&(s=it(c[u],i),f=ke**BigInt(c[u].length),u++),(c[u]==="("&&c[u+2]===")"||c[u]==="'"&&c[u+2]==="'")&&(l=it(c[u+1],i),D=ke**BigInt(c[u+1].length)-te,u+=3)):c[u+1]==="/"||c[u+1]===":"?(s=it(c[u],i),f=it(c[u+2],te),u+=3):c[u+3]==="/"&&c[u+1]===" "&&(o=it(c[u],i),s=it(c[u+2],i),f=it(c[u+4],te),u+=5),c.length<=u)n=f*D,i=r=l+n*o+D*s;else throw at()}else if(typeof e=="bigint")r=e,i=e,n=te;else throw at();if(n===W)throw Sr();U.s=i<W?-te:te,U.n=r<W?-r:r,U.d=n<W?-n:n};function hs(e,t,r){let n=te;for(;t>W;e=e*e%r,t>>=te)t&te&&(n=n*e%r);return n}function ps(e,t){for(;t%Te===W;t/=Te);for(;t%_t===W;t/=_t);if(t===te)return W;let r=ke%t,n=1;for(;r!==te;n++)if(r=r*ke%t,n>cs)return W;return BigInt(n)}function Ds(e,t,r){let n=te,i=hs(ke,r,t);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*ke%t,i=i*ke%t}return 0}function mt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Je(e,t){if(Me(e,t),this instanceof Je)e=mt(U.d,U.n),this.s=U.s,this.n=U.n/e,this.d=U.d/e;else return De(U.s*U.n,U.d)}const Sr=function(){return new Error("Division by Zero")},at=function(){return new Error("Invalid argument")},Wr=function(){return new Error("Parameters must be integer")};Je.prototype={s:te,n:W,d:te,abs:function(){return De(this.n,this.d)},neg:function(){return De(-this.s*this.n,this.d)},add:function(e,t){return Me(e,t),De(this.s*this.n*U.d+U.s*this.d*U.n,this.d*U.d)},sub:function(e,t){return Me(e,t),De(this.s*this.n*U.d-U.s*this.d*U.n,this.d*U.d)},mul:function(e,t){return Me(e,t),De(this.s*U.s*this.n*U.n,this.d*U.d)},div:function(e,t){return Me(e,t),De(this.s*U.s*this.n*U.d,this.d*U.n)},clone:function(){return De(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return De(this.s*this.n%this.d,te);if(Me(e,t),W===U.n*this.d)throw Sr();return De(this.s*(U.d*this.n)%(U.n*this.d),U.d*this.d)},gcd:function(e,t){return Me(e,t),De(mt(U.n,this.n)*mt(U.d,this.d),U.d*this.d)},lcm:function(e,t){return Me(e,t),U.n===W&&this.n===W?De(W,te):De(U.n*this.n,mt(U.n,this.n)*mt(U.d,this.d))},inverse:function(){return De(this.s*this.d,this.n)},pow:function(e,t){if(Me(e,t),U.d===te)return U.s<W?De((this.s*this.d)**U.n,this.n**U.n):De((this.s*this.n)**U.n,this.d**U.n);if(this.s<W)return null;let r=Ct(this.n),n=Ct(this.d),i=te,u=te;for(let o in r)if(o!=="1"){if(o==="0"){i=W;break}if(r[o]*=U.n,r[o]%U.d===W)r[o]/=U.d;else return null;i*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=U.n,n[o]%U.d===W)n[o]/=U.d;else return null;u*=BigInt(o)**n[o]}return U.s<W?De(u,i):De(i,u)},log:function(e,t){if(Me(e,t),this.s<=W||U.s<=W)return null;const r=Object.create(null),n=Ct(U.n),i=Ct(U.d),u=Ct(this.n),o=Ct(this.d);for(const f in i)n[f]=(n[f]||W)-i[f];for(const f in o)u[f]=(u[f]||W)-o[f];for(const f in n)f!=="1"&&(r[f]=!0);for(const f in u)f!=="1"&&(r[f]=!0);let s=null,l=null;for(const f in r){const D=n[f]||W,c=u[f]||W;if(D===W){if(c!==W)return null;continue}let h=c,p=D;const d=mt(h,p);if(h/=d,p/=d,s===null&&l===null)s=h,l=p;else if(h*l!==s*p)return null}return s!==null&&l!==null?De(s,l):null},equals:function(e,t){return Me(e,t),this.s*this.n*U.d===U.s*U.n*this.d},lt:function(e,t){return Me(e,t),this.s*this.n*U.d<U.s*U.n*this.d},lte:function(e,t){return Me(e,t),this.s*this.n*U.d<=U.s*U.n*this.d},gt:function(e,t){return Me(e,t),this.s*this.n*U.d>U.s*U.n*this.d},gte:function(e,t){return Me(e,t),this.s*this.n*U.d>=U.s*U.n*this.d},compare:function(e,t){Me(e,t);let r=this.s*this.n*U.d-U.s*U.n*this.d;return(W<r)-(r<W)},ceil:function(e){return e=ke**BigInt(e||0),De(je(this.s*e*this.n/this.d)+(e*this.n%this.d>W&&this.s>=W?te:W),e)},floor:function(e){return e=ke**BigInt(e||0),De(je(this.s*e*this.n/this.d)-(e*this.n%this.d>W&&this.s<W?te:W),e)},round:function(e){return e=ke**BigInt(e||0),De(je(this.s*e*this.n/this.d)+this.s*((this.s>=W?te:W)+Te*(e*this.n%this.d)>this.d?te:W),e)},roundTo:function(e,t){Me(e,t);const r=this.n*U.d,n=this.d*U.n,i=r%n;let u=je(r/n);return i+i>=n&&u++,De(this.s*u*U.n,U.d)},divisible:function(e,t){return Me(e,t),U.n===W?!1:this.n*U.d%(U.n*this.d)===W},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e=15){let t=this.n,r=this.d,n=ps(t,r),i=Ds(t,r,n),u=this.s<W?"-":"";if(u+=je(t/r),t%=r,t*=ke,t&&(u+="."),n){for(let o=i;o--;)u+=je(t/r),t%=r,t*=ke;u+="(";for(let o=n;o--;)u+=je(t/r),t%=r,t*=ke;u+=")"}else for(let o=e;t&&o--;)u+=je(t/r),t%=r,t*=ke;return u},toFraction:function(e=!1){let t=this.n,r=this.d,n=this.s<W?"-":"";if(r===te)n+=t;else{const i=je(t/r);e&&i>W&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e=!1){let t=this.n,r=this.d,n=this.s<W?"-":"";if(r===te)n+=t;else{const i=je(t/r);e&&i>W&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d;const r=[];for(;t;){r.push(je(e/t));const n=e%t;e=t,t=n}return r},simplify:function(e=.001){const t=BigInt(Math.ceil(1/e)),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let u=De(n[i-1],te);for(let s=i-2;s>=0;s--)u=u.inverse().add(n[s]);let o=u.sub(r);if(o.n*t<o.d)return u.mul(this.s)}return this}};var ds="Fraction",ms=[],vs=re(ds,ms,()=>(Object.defineProperty(Je,"name",{value:"Fraction"}),Je.prototype.constructor=Je,Je.prototype.type="Fraction",Je.prototype.isFraction=!0,Je.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Je.fromJSON=function(e){return new Je(e)},Je),{isClass:!0}),gs="Matrix",ws=[],Fs=re(gs,ws,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function gr(e,t,r){var n=e.constructor,i=new n(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!de(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function Es(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=bn(t);switch(r){case"fixed":return As(e,n);case"exponential":return Zr(e,n);case"engineering":return ys(e,n);case"bin":return gr(e,2,i);case"oct":return gr(e,8,i);case"hex":return gr(e,16,i);case"auto":{var u=Vr(t?.lowerExp,-3),o=Vr(t?.upperExp,5);if(e.isZero())return"0";var s,l=e.toSignificantDigits(n),f=l.e;return f>=u&&f<o?s=l.toFixed():s=Zr(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var D=arguments[2],c=arguments[4];return D!=="."?D+c:c})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ys(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(r>=0?"+":"")+n.toString()}function Zr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function As(e,t){return e.toFixed(t)}function Vr(e,t){return oe(e)?e:ye(e)?e.toNumber():t}function be(e,t){var r=Cs(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function Cs(e,t){if(typeof e=="number")return wr(e,t);if(ye(e))return Es(e,t);if(bs(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return qn(e,t);if(Qe(e))return Yr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Yr(n)+": "+be(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Yr(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in Xr?Xr[i]:i,n++}return'"'+r+'"'}var Xr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function qn(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=qn(e[i],t);return r+="]",r}else return be(e,t)}function bs(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function me(e,t,r){if(!(this instanceof me))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}me.prototype=new RangeError;me.prototype.constructor=RangeError;me.prototype.name="DimensionError";me.prototype.isDimensionError=!0;function It(e,t,r){if(!(this instanceof It))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}It.prototype=new RangeError;It.prototype.constructor=RangeError;It.prototype.name="IndexError";It.prototype.isIndexError=!0;function Le(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Un(e,t,r){var n,i=e.length;if(i!==t[r])throw new me(i,t[r]);if(r<t.length-1){var u=r+1;for(n=0;n<i;n++){var o=e[n];if(!Array.isArray(o))throw new me(t.length-1,t.length,"<");Un(e[n],t,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new me(t.length+1,t.length,">")}function Gr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new me(e.length,0)}else Un(e,t,0)}function we(e,t){if(e!==void 0){if(!oe(e)||!de(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new It(e,t)}}function nr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!oe(i)||!de(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+be(t)+")")}),(oe(e)||ye(e))&&(e=[e]);var n=r!==void 0?r:0;return Cr(e,t,0,n),e}function Cr(e,t,r,n){var i,u,o=e.length,s=t[r],l=Math.min(o,s);if(e.length=s,r<t.length-1){var f=r+1;for(i=0;i<l;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Cr(u,t,f,n);for(i=l;i<s;i++)u=[],e[i]=u,Cr(u,t,f,n)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<s;i++)e[i]=n}}function kn(e,t){var r=_s(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new me(0,n,"!=");t=Mr(t,n);var i=Hn(t);if(n!==i)throw new me(i,n,"!=");try{return Bs(r,t)}catch(u){throw u instanceof me?new me(i,n,"!="):u}}function Mr(e,t){var r=Hn(e),n=e.slice(),i=-1,u=e.indexOf(i),o=e.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,l=t%r===0;if(s)if(l)n[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Hn(e){return e.reduce((t,r)=>t*r,1)}function Bs(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var u=t[i];n=[];for(var o=r.length/u,s=0;s<o;s++)n.push(r.slice(s*u,(s+1)*u));r=n}return r}function Wn(e,t,r,n){var i=n||Le(e);if(r)for(var u=0;u<r;u++)e=[e],i.unshift(1);for(e=Zn(e,t,0);i.length<t;)i.push(1);return e}function Zn(e,t,r){var n,i;if(Array.isArray(e)){var u=r+1;for(n=0,i=e.length;n<i;n++)e[n]=Zn(e[n],t,u)}else for(var o=r;o<t;o++)e=[e];return e}function _s(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?i(e):n(e),r;function n(u){for(var o=0;o<u.length;o++){var s=u[o];Array.isArray(s)?n(s):r.push(s)}}function i(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)i(u[o]);else for(var s=0;s<u.length;s++)r.push(u[s])}}function Tr(e,t){for(var r,n=0,i=0;i<e.length;i++){var u=e[i],o=Array.isArray(u);if(i===0&&o&&(n=u.length),o&&u.length!==n)return;var s=o?Tr(u,t):t(u);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function Vn(e,t,r,n){if(n<r){if(e.length!==t.length)throw new me(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=Vn(e[u],t[u],r,n+1);return i}else return e.concat(t)}function Ns(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Vn(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Ss(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(h=>h.length),i=Math.max(...n),u=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],l=n[o],f=0;f<l;f++){var D=i-l+f;s[f]>u[D]&&(u[D]=s[f])}for(var c=0;c<t.length;c++)Yn(t[c],u);return u}function Yn(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var u=r-n+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[u]))}}function Jr(e,t){var r=Le(e);if(St(r,t))return e;Yn(r,t);var n=Ss(r,t),i=n.length,u=[...Array(i-r.length).fill(1),...r],o=Ts(e);r.length<i&&(o=kn(o,u),r=Le(o));for(var s=0;s<i;s++)r[s]<n[s]&&(o=Ms(o,n[s],s),r=Le(o));return o}function Ms(e,t,r){return Ns(...Array(t).fill(e),r)}function Xn(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Le(e);if(t.length!==r.length)throw new me(t.length,r.length);for(var n=0;n<t.length;n++)we(t[n],r[n]);return t.reduce((i,u)=>i[u],e)}function jr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return u(e);var n=[];return i(e,0);function i(o,s){if(Array.isArray(o)){for(var l=o.length,f=Array(l),D=0;D<l;D++)n[s]=D,f[D]=i(o[D],s+1);return f}else return t(o,n.slice(0,s),e)}function u(o){if(Array.isArray(o)){for(var s=o.length,l=Array(s),f=0;f<s;f++)l[f]=u(o[f]);return l}else return t(o)}}function Ts(e){return Gt([],e)}function ir(e,t,r,n){if(Qt.isTypedFunction(e)){var i;if(n)i=1;else{var u=t.isMatrix?t.size():Le(t),o=u.length?u[u.length-1]===0:!0;if(o)return{isUnary:n,fn:e};var s=u.map(()=>0),l=t.isMatrix?t.get(s):Xn(t,s);i=Os(e,l,s,t)}var f;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var D=xs(e,i);f=D!==void 0?D:e}else f=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var h=arguments.length,p=new Array(h),d=0;d<h;d++)p[d]=arguments[d];return Kr(f,p.slice(0,i),r,e.name)}}:{isUnary:!1,fn:function(){for(var h=arguments.length,p=new Array(h),d=0;d<h;d++)p[d]=arguments[d];return Kr(f,p,r,e.name)}}}return n===void 0?{isUnary:Is(e),fn:e}:{isUnary:n,fn:e}}function xs(e,t){var r=[];if(Object.entries(e.signatures).forEach(n=>{var[i,u]=n;i.split(",").length===t&&r.push(u)}),r.length===1)return r[0]}function Is(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function Os(e,t,r,n){for(var i=[t,r,n],u=3;u>0;u--){var o=i.slice(0,u);if(Qt.resolve(e,o)!==null)return u}}function Kr(e,t,r,n){try{return e(...t)}catch(i){zs(i,t,r,n)}}function zs(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(lt(t[0]))),t.length>=2&&u.push("index: ".concat(lt(t[1]))),t.length>=3&&u.push("array: ".concat(lt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var Ps="DenseMatrix",Rs=["Matrix","config"],$s=re(Ps,Rs,e=>{var{Matrix:t,config:r}=e;function n(c,h){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!Qe(h))throw new Error("Invalid datatype: "+h);if(Be(c))c.type==="DenseMatrix"?(this._data=Ee(c._data),this._size=Ee(c._size),this._datatype=h||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=h||c._datatype);else if(c&&_e(c.data)&&_e(c.size))this._data=c.data,this._size=c.size,Gr(this._data,this._size),this._datatype=h||c.datatype;else if(_e(c))this._data=D(c),this._size=Le(this._data),Gr(this._data,this._size),this._datatype=h;else{if(c)throw new TypeError("Unsupported type of data ("+lt(c)+")");this._data=[],this._size=[0],this._datatype=h}}n.prototype=new t,n.prototype.createDenseMatrix=function(c,h){return new n(c,h)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Tr(this._data,lt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,h){return new n(c,h)},n.prototype.subset=function(c,h,p){switch(arguments.length){case 1:return i(this,c);case 2:case 3:return o(this,c,h,p);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(c){return Xn(this._data,c)},n.prototype.set=function(c,h,p){if(!_e(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new me(c.length,this._size.length,"<");var d,a,m,E=c.map(function(F){return F+1});f(this,E,p);var y=this._data;for(d=0,a=c.length-1;d<a;d++)m=c[d],we(m,y.length),y=y[m];return m=c[c.length-1],we(m,y.length),y[m]=h,this};function i(c,h){if(!Br(h))throw new TypeError("Invalid index");var p=r.legacySubset?h.size().every(g=>g===1):h.isScalar();if(p)return c.get(h.min());var d=h.size();if(d.length!==c._size.length)throw new me(d.length,c._size.length);for(var a=h.min(),m=h.max(),E=0,y=c._size.length;E<y;E++)we(a[E],c._size[E]),we(m[E],c._size[E]);var F=new n,b=u(c._data,h);return F._size=b.size,F._datatype=c._datatype,F._data=b.data,r.legacySubset?F.reshape(h.size()):F}function u(c,h){var p=h.size().length-1,d=Array(p);return{data:a(c),size:d.filter(m=>m!==null)};function a(m){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=h.dimension(E);function F(b,g){return oe(b)?g(b):b.map(g).valueOf()}return oe(y)?d[E]=null:d[E]=y.size()[0],E<p?F(y,b=>(we(b,m.length),a(m[b],E+1))):F(y,b=>(we(b,m.length),m[b]))}}function o(c,h,p,d){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var a=h.size(),m=h.isScalar(),E;if(Be(p)?(E=p.size(),p=p.valueOf()):E=Le(p),m){if(E.length!==0)throw new TypeError("Scalar expected");c.set(h.min(),p,d)}else{if(!St(E,a)){if(E.length===0)p=Jr([p],a);else try{p=Jr(p,a)}catch{}E=Le(p)}if(a.length<c._size.length)throw new me(a.length,c._size.length,"<");if(E.length<a.length){for(var y=0,F=0;a[y]===1&&E[y]===1;)y++;for(;a[y]===1;)F++,y++;p=Wn(p,a.length,F,E)}if(!St(a,E))throw new me(a,E,">");var b=h.max().map(function(g){return g+1});f(c,b,d),s(c._data,h,p)}return c}function s(c,h,p){var d=h.size().length-1;a(c,p);function a(m,E){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,F=h.dimension(y),b=(v,B)=>{we(v,m.length),a(m[v],E[B[0]],y+1)},g=(v,B)=>{we(v,m.length),m[v]=E[B[0]]};y<d?oe(F)?b(F,[0]):F.forEach(b):oe(F)?g(F,[0]):F.forEach(g)}}n.prototype.resize=function(c,h,p){if(!jt(c))throw new TypeError("Array or Matrix expected");var d=c.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),a=p?this.clone():this;return l(a,d,h)};function l(c,h,p){if(h.length===0){for(var d=c._data;_e(d);)d=d[0];return d}return c._size=h.slice(0),c._data=nr(c._data,c._size,p),c}n.prototype.reshape=function(c,h){var p=h?this.clone():this;p._data=kn(p._data,c);var d=p._size.reduce((a,m)=>a*m);return p._size=Mr(c,d),p};function f(c,h,p){for(var d=c._size.slice(0),a=!1;d.length<h.length;)d.push(0),a=!0;for(var m=0,E=h.length;m<E;m++)h[m]>d[m]&&(d[m]=h[m],a=!0);a&&l(c,d,p)}n.prototype.clone=function(){var c=new n({data:Ee(this._data),size:Ee(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,d=p._size.length-1;if(d<0)return p.clone();var a=ir(c,p,"map",h),m=a.fn,E=p.create(void 0,p._datatype);if(E._size=p._size,h||a.isUnary)return E._data=B(p._data),E;if(d===0){for(var y=p.valueOf(),F=Array(y.length),b=0;b<y.length;b++)F[b]=m(y[b],[b],p);return E._data=F,E}var g=[];return E._data=v(p._data),E;function v(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=Array(C.length);if(_<d)for(var O=0;O<C.length;O++)g[_]=O,T[O]=v(C[O],_+1);else for(var R=0;R<C.length;R++)g[_]=R,T[R]=m(C[R],g.slice(),p);return T}function B(C){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=Array(C.length);if(_<d)for(var O=0;O<C.length;O++)T[O]=B(C[O],_+1);else for(var R=0;R<C.length;R++)T[R]=m(C[R]);return T}},n.prototype.forEach=function(c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,d=p._size.length-1;if(d<0)return;var a=ir(c,p,"map",h),m=a.fn;if(h||a.isUnary){b(p._data);return}if(d===0){for(var E=0;E<p._data.length;E++)m(p._data[E],[E],p);return}var y=[];F(p._data);function F(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(v<d)for(var B=0;B<g.length;B++)y[v]=B,F(g[B],v+1);else for(var C=0;C<g.length;C++)y[v]=C,m(g[C],y.slice(),p)}function b(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(v<d)for(var B=0;B<g.length;B++)b(g[B],v+1);else for(var C=0;C<g.length;C++)m(g[C])}},n.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var h=0;h<this._data.length;h++)yield{value:this._data[h],index:[h]};return}for(var p=Array(c+1).fill(0),d=this._size.reduce((F,b)=>F*b,1),a=0;a<d;a++){for(var m=this._data,E=0;E<c;E++)m=m[p[E]];yield{value:m[p[c]],index:p.slice()};for(var y=c;y>=0&&(p[y]++,!(p[y]<this._size[y]));y--)p[y]=0}}},n.prototype.rows=function(){var c=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var d of p)c.push(new n([d],this._datatype));return c},n.prototype.columns=function(){var c=this,h=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,a=function(y){var F=d.map(b=>[b[y]]);h.push(new n(F,c._datatype))},m=0;m<p[1];m++)a(m);return h},n.prototype.toArray=function(){return Ee(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(c){return be(this._data,c)},n.prototype.toString=function(){return be(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(ye(c)&&(c=c.toNumber()),!oe(c)||!de(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var h=c>0?c:0,p=c<0?-c:0,d=this._size[0],a=this._size[1],m=Math.min(d-p,a-h),E=[],y=0;y<m;y++)E[y]=this._data[y+p][y+h];return new n({data:E,size:[m],datatype:this._datatype})},n.diagonal=function(c,h,p,d){if(!_e(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if(ye(C)&&(C=C.toNumber()),!oe(C)||!de(C)||C<1)throw new Error("Size values must be positive integers");return C}),p){if(ye(p)&&(p=p.toNumber()),!oe(p)||!de(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var a=p>0?p:0,m=p<0?-p:0,E=c[0],y=c[1],F=Math.min(E-m,y-a),b;if(_e(h)){if(h.length!==F)throw new Error("Invalid value array length");b=function(_){return h[_]}}else if(Be(h)){var g=h.size();if(g.length!==1||g[0]!==F)throw new Error("Invalid matrix length");b=function(_){return h.get([_])}}else b=function(){return h};d||(d=ye(b(0))?b(0).mul(0):0);var v=[];if(c.length>0){v=nr(v,c,d);for(var B=0;B<F;B++)v[B+m][B+a]=b(B)}return new n({data:v,size:[E,y]})},n.fromJSON=function(c){return new n(c)},n.prototype.swapRows=function(c,h){if(!oe(c)||!de(c)||!oe(h)||!de(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return we(c,this._size[0]),we(h,this._size[0]),n._swapRows(c,h,this._data),this},n._swapRows=function(c,h,p){var d=p[c];p[c]=p[h],p[h]=d};function D(c){return Be(c)?D(c.valueOf()):_e(c)?c.map(D):c}return n},{isClass:!0});function ot(e,t,r){if(!r)return Be(e)?e.map(i=>t(i),!1,!0):jr(e,t,!0);var n=i=>i===0?i:t(i);return Be(e)?e.map(i=>n(i),!1,!0):jr(e,n,!0)}var Gn="number",cr="number, number";function Jn(e){return Math.abs(e)}Jn.signature=Gn;function jn(e,t){return e+t}jn.signature=cr;function Kn(e,t){return e-t}Kn.signature=cr;function Qn(e,t){return e*t}Qn.signature=cr;function ei(e){return-e}ei.signature=Gn;function ti(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}ti.signature=cr;function Pt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!de(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Bn(e,t))}function br(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Qr="isZero",Ls=["typed","equalScalar"],qs=re(Qr,Ls,e=>{var{typed:t,equalScalar:r}=e;return t(Qr,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>ot(i,n))})});function Us(e,t,r,n){return Mt(e.re,t.re,r,n)&&Mt(e.im,t.im,r,n)}var ks=re("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),ur="equalScalar",Hs=["typed","config"],Ws=re(ur,Hs,e=>{var{typed:t,config:r}=e,n=ks({typed:t});return t(ur,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return Mt(u,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||br(u,o,r.relTol,r.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Us(u,o,r.relTol,r.absTol)}},n)});re(ur,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ur,{"number, number":function(i,u){return Mt(i,u,r.relTol,r.absTol)}})});var Zs="SparseMatrix",Vs=["typed","equalScalar","Matrix"],Ys=re(Zs,Vs,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(a,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Qe(m))throw new Error("Invalid datatype: "+m);if(Be(a))u(this,a,m);else if(a&&_e(a.index)&&_e(a.ptr)&&_e(a.size))this._values=a.values,this._index=a.index,this._ptr=a.ptr,this._size=a.size,this._datatype=m||a.datatype;else if(_e(a))o(this,a,m);else{if(a)throw new TypeError("Unsupported type of data ("+lt(a)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(a,m,E){m.type==="SparseMatrix"?(a._values=m._values?Ee(m._values):void 0,a._index=Ee(m._index),a._ptr=Ee(m._ptr),a._size=Ee(m._size),a._datatype=E||m._datatype):o(a,m.valueOf(),E||m._datatype)}function o(a,m,E){a._values=[],a._index=[],a._ptr=[],a._datatype=E;var y=m.length,F=0,b=r,g=0;if(Qe(E)&&(b=t.find(r,[E,E])||r,g=t.convert(0,E)),y>0){var v=0;do{a._ptr.push(a._index.length);for(var B=0;B<y;B++){var C=m[B];if(_e(C)){if(v===0&&F<C.length&&(F=C.length),v<C.length){var _=C[v];b(_,g)||(a._values.push(_),a._index.push(B))}}else v===0&&F<1&&(F=1),b(C,g)||(a._values.push(C),a._index.push(B))}v++}while(v<F)}for(;a._ptr.length<=F;)a._ptr.push(a._index.length);a._size=[y,F]}i.prototype=new n,i.prototype.createSparseMatrix=function(a,m){return new i(a,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Tr(this._values,lt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(a,m){return new i(a,m)},i.prototype.density=function(){var a=this._size[0],m=this._size[1];return a!==0&&m!==0?this._index.length/(a*m):0},i.prototype.subset=function(a,m,E){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,a);case 2:case 3:return l(this,a,m,E);default:throw new SyntaxError("Wrong number of arguments")}};function s(a,m){if(!Br(m))throw new TypeError("Invalid index");var E=m.isScalar();if(E)return a.get(m.min());var y=m.size();if(y.length!==a._size.length)throw new me(y.length,a._size.length);var F,b,g,v,B=m.min(),C=m.max();for(F=0,b=a._size.length;F<b;F++)we(B[F],a._size[F]),we(C[F],a._size[F]);var _=a._values,T=a._index,O=a._ptr,R=m.dimension(0),Z=m.dimension(1),Y=[],H=[];function L(ne,ie){H[ne]=ie[0],Y[ne]=!0}Number.isInteger(R)?L(R,[0]):R.forEach(L);var j=_?[]:void 0,X=[],J=[];function ee(ne){for(J.push(X.length),g=O[ne],v=O[ne+1];g<v;g++)F=T[g],Y[F]===!0&&(X.push(H[F]),j&&j.push(_[g]))}return Number.isInteger(Z)?ee(Z):Z.forEach(ee),J.push(X.length),new i({values:j,index:X,ptr:J,size:y,datatype:a._datatype})}function l(a,m,E,y){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var F=m.size(),b=m.isScalar(),g;if(Be(E)?(g=E.size(),E=E.toArray()):g=Le(E),b){if(g.length!==0)throw new TypeError("Scalar expected");a.set(m.min(),E,y)}else{if(F.length!==1&&F.length!==2)throw new me(F.length,a._size.length,"<");if(g.length<F.length){for(var v=0,B=0;F[v]===1&&g[v]===1;)v++;for(;F[v]===1;)B++,v++;E=Wn(E,F.length,B,g)}if(!St(F,g))throw new me(F,g,">");if(F.length===1){var C=m.dimension(0);O(C,(R,Z)=>{we(R),a.set([R,0],E[Z[0]],y)})}else{var _=m.dimension(0),T=m.dimension(1);O(_,(R,Z)=>{we(R),O(T,(Y,H)=>{we(Y),a.set([R,Y],E[Z[0]][H[0]],y)})})}}return a;function O(R,Z){oe(R)?Z(R,[0]):R.forEach(Z)}}i.prototype.get=function(a){if(!_e(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new me(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=a[0],E=a[1];we(m,this._size[0]),we(E,this._size[1]);var y=f(m,this._ptr[E],this._ptr[E+1],this._index);return y<this._ptr[E+1]&&this._index[y]===m?this._values[y]:0},i.prototype.set=function(a,m,E){if(!_e(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new me(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var y=a[0],F=a[1],b=this._size[0],g=this._size[1],v=r,B=0;Qe(this._datatype)&&(v=t.find(r,[this._datatype,this._datatype])||r,B=t.convert(0,this._datatype)),(y>b-1||F>g-1)&&(h(this,Math.max(y+1,b),Math.max(F+1,g),E),b=this._size[0],g=this._size[1]),we(y,b),we(F,g);var C=f(y,this._ptr[F],this._ptr[F+1],this._index);return C<this._ptr[F+1]&&this._index[C]===y?v(m,B)?D(C,F,this._values,this._index,this._ptr):this._values[C]=m:v(m,B)||c(C,y,F,m,this._values,this._index,this._ptr),this};function f(a,m,E,y){if(E-m===0)return E;for(var F=m;F<E;F++)if(y[F]===a)return F;return m}function D(a,m,E,y,F){E.splice(a,1),y.splice(a,1);for(var b=m+1;b<F.length;b++)F[b]--}function c(a,m,E,y,F,b,g){F.splice(a,0,y),b.splice(a,0,m);for(var v=E+1;v<g.length;v++)g[v]++}i.prototype.resize=function(a,m,E){if(!jt(a))throw new TypeError("Array or Matrix expected");var y=a.valueOf().map(b=>Array.isArray(b)&&b.length===1?b[0]:b);if(y.length!==2)throw new Error("Only two dimensions matrix are supported");y.forEach(function(b){if(!oe(b)||!de(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+be(y)+")")});var F=E?this.clone():this;return h(F,y[0],y[1],m)};function h(a,m,E,y){var F=y||0,b=r,g=0;Qe(a._datatype)&&(b=t.find(r,[a._datatype,a._datatype])||r,g=t.convert(0,a._datatype),F=t.convert(F,a._datatype));var v=!b(F,g),B=a._size[0],C=a._size[1],_,T,O;if(E>C){for(T=C;T<E;T++)if(a._ptr[T]=a._values.length,v)for(_=0;_<B;_++)a._values.push(F),a._index.push(_);a._ptr[E]=a._values.length}else E<C&&(a._ptr.splice(E+1,C-E),a._values.splice(a._ptr[E],a._values.length),a._index.splice(a._ptr[E],a._index.length));if(C=E,m>B){if(v){var R=0;for(T=0;T<C;T++){a._ptr[T]=a._ptr[T]+R,O=a._ptr[T+1]+R;var Z=0;for(_=B;_<m;_++,Z++)a._values.splice(O+Z,0,F),a._index.splice(O+Z,0,_),R++}a._ptr[C]=a._values.length}}else if(m<B){var Y=0;for(T=0;T<C;T++){a._ptr[T]=a._ptr[T]-Y;var H=a._ptr[T],L=a._ptr[T+1]-Y;for(O=H;O<L;O++)_=a._index[O],_>m-1&&(a._values.splice(O,1),a._index.splice(O,1),Y++)}a._ptr[T]=a._values.length}return a._size[0]=m,a._size[1]=E,a}i.prototype.reshape=function(a,m){if(!_e(a))throw new TypeError("Array expected");if(a.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");a.forEach(function(J){if(!oe(J)||!de(J)||J<=-2||J===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+be(a)+")")});var E=this._size[0]*this._size[1];a=Mr(a,E);var y=a[0]*a[1];if(E!==y)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var F=m?this.clone():this;if(this._size[0]===a[0]&&this._size[1]===a[1])return F;for(var b=[],g=0;g<F._ptr.length;g++)for(var v=0;v<F._ptr[g+1]-F._ptr[g];v++)b.push(g);for(var B=F._values.slice(),C=F._index.slice(),_=0;_<F._index.length;_++){var T=C[_],O=b[_],R=T*F._size[1]+O;b[_]=R%a[1],C[_]=Math.floor(R/a[1])}F._values.length=0,F._index.length=0,F._ptr.length=a[1]+1,F._size=a.slice();for(var Z=0;Z<F._ptr.length;Z++)F._ptr[Z]=0;for(var Y=0;Y<B.length;Y++){var H=C[Y],L=b[Y],j=B[Y],X=f(H,F._ptr[L],F._ptr[L+1],F._index);c(X,H,L,j,F._values,F._index,F._ptr)}return F},i.prototype.clone=function(){var a=new i({values:this._values?Ee(this._values):void 0,index:Ee(this._index),ptr:Ee(this._ptr),size:Ee(this._size),datatype:this._datatype});return a},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(a,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var E=this,y=this._size[0],F=this._size[1],b=ir(a,E,"map"),g=function(B,C,_){return b.fn(B,[C,_],E)};return p(this,0,y-1,0,F-1,g,m)};function p(a,m,E,y,F,b,g){var v=[],B=[],C=[],_=r,T=0;Qe(a._datatype)&&(_=t.find(r,[a._datatype,a._datatype])||r,T=t.convert(0,a._datatype));for(var O=function(fe,Ae,Fe){var ge=b(fe,Ae,Fe);_(ge,T)||(v.push(ge),B.push(Ae))},R=y;R<=F;R++){C.push(v.length);var Z=a._ptr[R],Y=a._ptr[R+1];if(g)for(var H=Z;H<Y;H++){var L=a._index[H];L>=m&&L<=E&&O(a._values[H],L-m,R-y)}else{for(var j={},X=Z;X<Y;X++){var J=a._index[X];j[J]=a._values[X]}for(var ee=m;ee<=E;ee++){var ne=ee in j?j[ee]:0;O(ne,ee-m,R-y)}}}return C.push(v.length),new i({values:v,index:B,ptr:C,size:[E-m+1,F-y+1]})}i.prototype.forEach=function(a,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var E=this,y=this._size[0],F=this._size[1],b=ir(a,E,"forEach"),g=0;g<F;g++){var v=this._ptr[g],B=this._ptr[g+1];if(m)for(var C=v;C<B;C++){var _=this._index[C];b.fn(this._values[C],[_,g],E)}else{for(var T={},O=v;O<B;O++){var R=this._index[O];T[R]=this._values[O]}for(var Z=0;Z<y;Z++){var Y=Z in T?T[Z]:0;b.fn(Y,[Z,g],E)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var a=this._size[1],m=0;m<a;m++)for(var E=this._ptr[m],y=this._ptr[m+1],F=E;F<y;F++){var b=this._index[F];yield{value:this._values[F],index:[b,m]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)};function d(a,m,E,y,F){var b=y[0],g=y[1],v=[],B,C;for(B=0;B<b;B++)for(v[B]=[],C=0;C<g;C++)v[B][C]=0;for(C=0;C<g;C++)for(var _=E[C],T=E[C+1],O=_;O<T;O++)B=m[O],v[B][C]=a?F?Ee(a[O]):a[O]:1;return v}return i.prototype.format=function(a){for(var m=this._size[0],E=this._size[1],y=this.density(),F="Sparse Matrix ["+be(m,a)+" x "+be(E,a)+"] density: "+be(y,a)+`
`,b=0;b<E;b++)for(var g=this._ptr[b],v=this._ptr[b+1],B=g;B<v;B++){var C=this._index[B];F+=`
    (`+be(C,a)+", "+be(b,a)+") ==> "+(this._values?be(this._values[B],a):"X")}return F},i.prototype.toString=function(){return be(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(a){if(a){if(ye(a)&&(a=a.toNumber()),!oe(a)||!de(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var m=a>0?a:0,E=a<0?-a:0,y=this._size[0],F=this._size[1],b=Math.min(y-E,F-m),g=[],v=[],B=[];B[0]=0;for(var C=m;C<F&&g.length<b;C++)for(var _=this._ptr[C],T=this._ptr[C+1],O=_;O<T;O++){var R=this._index[O];if(R===C-m+E){g.push(this._values[O]),v[g.length-1]=R-E;break}}return B.push(g.length),new i({values:g,index:v,ptr:B,size:[b,1]})},i.fromJSON=function(a){return new i(a)},i.diagonal=function(a,m,E,y,F){if(!_e(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(J){if(ye(J)&&(J=J.toNumber()),!oe(J)||!de(J)||J<1)throw new Error("Size values must be positive integers");return J}),E){if(ye(E)&&(E=E.toNumber()),!oe(E)||!de(E))throw new TypeError("The parameter k must be an integer number")}else E=0;var b=r,g=0;Qe(F)&&(b=t.find(r,[F,F])||r,g=t.convert(0,F));var v=E>0?E:0,B=E<0?-E:0,C=a[0],_=a[1],T=Math.min(C-B,_-v),O;if(_e(m)){if(m.length!==T)throw new Error("Invalid value array length");O=function(ee){return m[ee]}}else if(Be(m)){var R=m.size();if(R.length!==1||R[0]!==T)throw new Error("Invalid matrix length");O=function(ee){return m.get([ee])}}else O=function(){return m};for(var Z=[],Y=[],H=[],L=0;L<_;L++){H.push(Z.length);var j=L-v;if(j>=0&&j<T){var X=O(j);b(X,g)||(Y.push(j+B),Z.push(X))}}return H.push(Z.length),new i({values:Z,index:Y,ptr:H,size:[C,_]})},i.prototype.swapRows=function(a,m){if(!oe(a)||!de(a)||!oe(m)||!de(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return we(a,this._size[0]),we(m,this._size[0]),i._swapRows(a,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(a,m,E,y,F){for(var b=y[a],g=y[a+1],v=b;v<g;v++)F(E[v],m[v])},i._swapRows=function(a,m,E,y,F,b){for(var g=0;g<E;g++){var v=b[g],B=b[g+1],C=f(a,v,B,F),_=f(m,v,B,F);if(C<B&&_<B&&F[C]===a&&F[_]===m){if(y){var T=y[C];y[C]=y[_],y[_]=T}continue}if(C<B&&F[C]===a&&(_>=B||F[_]!==m)){var O=y?y[C]:void 0;F.splice(_,0,m),y&&y.splice(_,0,O),F.splice(_<=C?C+1:C,1),y&&y.splice(_<=C?C+1:C,1);continue}if(_<B&&F[_]===m&&(C>=B||F[C]!==a)){var R=y?y[_]:void 0;F.splice(C,0,a),y&&y.splice(C,0,R),F.splice(C<=_?_+1:_,1),y&&y.splice(C<=_?_+1:_,1)}}},i},{isClass:!0}),Xs="number",Gs=["typed"];function Js(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function js(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var Ks=re(Xs,Gs,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=Js(i);if(u)return js(u);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(n=>i=>ot(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),Qs="bignumber",ea=["typed","BigNumber"],ta=re(Qs,ea,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],s=r(u[1]),l=new r(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var f=new r(2).pow(Number(o)-1);return s.gte(f)?s.sub(l):s}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>ot(i,n))})}),ra="fraction",na=["typed","Fraction"],ia=re(ra,na,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!Number.isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,u){return new r(i,u)},"bigint, bigint":function(i,u){return new r(i,u)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>ot(i,n))})}),en="matrix",ua=["typed","Matrix","DenseMatrix","SparseMatrix"],oa=re(en,ua,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(en,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,l){return u([],s,l)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new n(o,l);if(s==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),tn="unaryMinus",sa=["typed"],aa=re(tn,sa,e=>{var{typed:t}=e;return t(tn,{number:ei,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>ot(n,r,!0))})}),rn="abs",fa=["typed"],ca=re(rn,fa,e=>{var{typed:t}=e;return t(rn,{number:Jn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>ot(n,r,!0))})}),nn="addScalar",la=["typed"],ha=re(nn,la,e=>{var{typed:t}=e;return t(nn,{"number, number":jn,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),un="subtractScalar",pa=["typed"],Da=re(un,pa,e=>{var{typed:t}=e;return t(un,{"number, number":Kn,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),da="matAlgo11xS0s",ma=["typed","equalScalar"],ri=re(da,ma,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,o,s){var l=i._values,f=i._index,D=i._ptr,c=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=c[0],d=c[1],a,m=r,E=0,y=o;typeof h=="string"&&(a=h,m=t.find(r,[a,a]),E=t.convert(0,a),u=t.convert(u,a),y=t.find(o,[a,a]));for(var F=[],b=[],g=[],v=0;v<d;v++){g[v]=b.length;for(var B=D[v],C=D[v+1],_=B;_<C;_++){var T=f[_],O=s?y(u,l[_]):y(l[_],u);m(O,E)||(b.push(T),F.push(O))}}return g[d]=b.length,i.createSparseMatrix({values:F,index:b,ptr:g,size:[p,d],datatype:a})}}),va="matAlgo12xSfs",ga=["typed","DenseMatrix"],wa=re(va,ga,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,o,s){var l=i._values,f=i._index,D=i._ptr,c=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=c[0],d=c[1],a,m=o;typeof h=="string"&&(a=h,u=t.convert(u,a),m=t.find(o,[a,a]));for(var E=[],y=[],F=[],b=0;b<d;b++){for(var g=b+1,v=D[b],B=D[b+1],C=v;C<B;C++){var _=f[C];y[_]=l[C],F[_]=g}for(var T=0;T<p;T++)b===0&&(E[T]=[]),F[T]===g?E[T][b]=s?m(u,y[T]):m(y[T],u):E[T][b]=s?m(u,0):m(0,u)}return new r({data:E,size:[p,d],datatype:a})}}),Fa="matAlgo14xDs",Ea=["typed"],ni=re(Fa,Ea,e=>{var{typed:t}=e;return function(i,u,o,s){var l=i._data,f=i._size,D=i._datatype,c,h=o;typeof D=="string"&&(c=D,u=t.convert(u,c),h=t.find(o,[c,c]));var p=f.length>0?r(h,0,f,f[0],l,u,s):[];return i.createDenseMatrix({data:p,size:Ee(f),datatype:c})};function r(n,i,u,o,s,l,f){var D=[];if(i===u.length-1)for(var c=0;c<o;c++)D[c]=f?n(l,s[c]):n(s[c],l);else for(var h=0;h<o;h++)D[h]=r(n,i+1,u,u[i+1],s[h],l,f);return D}}),ya="multiplyScalar",Aa=["typed"],Ca=re(ya,Aa,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Qn,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),on="multiply",ba=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ba=re(on,ba,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:u,dot:o}=e,s=ri({typed:t,equalScalar:u}),l=ni({typed:t});function f(g,v){switch(g.length){case 1:switch(v.length){case 1:if(g[0]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(g[0]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+g[0]+") must match Matrix rows ("+v[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+v.length+" dimensions)")}break;case 2:switch(v.length){case 1:if(g[1]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+g[1]+") must match Vector length ("+v[0]+")");break;case 2:if(g[1]!==v[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+g[1]+") must match Matrix B rows ("+v[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+v.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+g.length+" dimensions)")}}function D(g,v,B){if(B===0)throw new Error("Cannot multiply two empty vectors");return o(g,v)}function c(g,v){if(v.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(g,v)}function h(g,v){var B=g._data,C=g._size,_=g._datatype||g.getDataType(),T=v._data,O=v._size,R=v._datatype||v.getDataType(),Z=C[0],Y=O[1],H,L=n,j=i;_&&R&&_===R&&typeof _=="string"&&_!=="mixed"&&(H=_,L=t.find(n,[H,H]),j=t.find(i,[H,H]));for(var X=[],J=0;J<Y;J++){for(var ee=j(B[0],T[0][J]),ne=1;ne<Z;ne++)ee=L(ee,j(B[ne],T[ne][J]));X[J]=ee}return g.createDenseMatrix({data:X,size:[Y],datatype:_===g._datatype&&R===v._datatype?H:void 0})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":a,"SparseMatrix, any":y}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":E,"SparseMatrix, DenseMatrix":F,"SparseMatrix, SparseMatrix":b});function a(g,v){var B=g._data,C=g._size,_=g._datatype||g.getDataType(),T=v._data,O=v._datatype||v.getDataType(),R=C[0],Z=C[1],Y,H=n,L=i;_&&O&&_===O&&typeof _=="string"&&_!=="mixed"&&(Y=_,H=t.find(n,[Y,Y]),L=t.find(i,[Y,Y]));for(var j=[],X=0;X<R;X++){for(var J=B[X],ee=L(J[0],T[0]),ne=1;ne<Z;ne++)ee=H(ee,L(J[ne],T[ne]));j[X]=ee}return g.createDenseMatrix({data:j,size:[R],datatype:_===g._datatype&&O===v._datatype?Y:void 0})}function m(g,v){var B=g._data,C=g._size,_=g._datatype||g.getDataType(),T=v._data,O=v._size,R=v._datatype||v.getDataType(),Z=C[0],Y=C[1],H=O[1],L,j=n,X=i;_&&R&&_===R&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&(L=_,j=t.find(n,[L,L]),X=t.find(i,[L,L]));for(var J=[],ee=0;ee<Z;ee++){var ne=B[ee];J[ee]=[];for(var ie=0;ie<H;ie++){for(var fe=X(ne[0],T[0][ie]),Ae=1;Ae<Y;Ae++)fe=j(fe,X(ne[Ae],T[Ae][ie]));J[ee][ie]=fe}}return g.createDenseMatrix({data:J,size:[Z,H],datatype:_===g._datatype&&R===v._datatype?L:void 0})}function E(g,v){var B=g._data,C=g._size,_=g._datatype||g.getDataType(),T=v._values,O=v._index,R=v._ptr,Z=v._size,Y=v._datatype||v._data===void 0?v._datatype:v.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var H=C[0],L=Z[1],j,X=n,J=i,ee=u,ne=0;_&&Y&&_===Y&&typeof _=="string"&&_!=="mixed"&&(j=_,X=t.find(n,[j,j]),J=t.find(i,[j,j]),ee=t.find(u,[j,j]),ne=t.convert(0,j));for(var ie=[],fe=[],Ae=[],Fe=v.createSparseMatrix({values:ie,index:fe,ptr:Ae,size:[H,L],datatype:_===g._datatype&&Y===v._datatype?j:void 0}),ge=0;ge<L;ge++){Ae[ge]=fe.length;var pe=R[ge],$e=R[ge+1];if($e>pe)for(var ce=0,ae=0;ae<H;ae++){for(var We=ae+1,xe=void 0,le=pe;le<$e;le++){var Se=O[le];ce!==We?(xe=J(B[ae][Se],T[le]),ce=We):xe=X(xe,J(B[ae][Se],T[le]))}ce===We&&!ee(xe,ne)&&(fe.push(ae),ie.push(xe))}}return Ae[L]=fe.length,Fe}function y(g,v){var B=g._values,C=g._index,_=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=v._data,R=v._datatype||v.getDataType(),Z=g._size[0],Y=v._size[0],H=[],L=[],j=[],X,J=n,ee=i,ne=u,ie=0;T&&R&&T===R&&typeof T=="string"&&T!=="mixed"&&(X=T,J=t.find(n,[X,X]),ee=t.find(i,[X,X]),ne=t.find(u,[X,X]),ie=t.convert(0,X));var fe=[],Ae=[];j[0]=0;for(var Fe=0;Fe<Y;Fe++){var ge=O[Fe];if(!ne(ge,ie))for(var pe=_[Fe],$e=_[Fe+1],ce=pe;ce<$e;ce++){var ae=C[ce];Ae[ae]?fe[ae]=J(fe[ae],ee(ge,B[ce])):(Ae[ae]=!0,L.push(ae),fe[ae]=ee(ge,B[ce]))}}for(var We=L.length,xe=0;xe<We;xe++){var le=L[xe];H[xe]=fe[le]}return j[1]=L.length,g.createSparseMatrix({values:H,index:L,ptr:j,size:[Z,1],datatype:T===g._datatype&&R===v._datatype?X:void 0})}function F(g,v){var B=g._values,C=g._index,_=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!B)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=v._data,R=v._datatype||v.getDataType(),Z=g._size[0],Y=v._size[0],H=v._size[1],L,j=n,X=i,J=u,ee=0;T&&R&&T===R&&typeof T=="string"&&T!=="mixed"&&(L=T,j=t.find(n,[L,L]),X=t.find(i,[L,L]),J=t.find(u,[L,L]),ee=t.convert(0,L));for(var ne=[],ie=[],fe=[],Ae=g.createSparseMatrix({values:ne,index:ie,ptr:fe,size:[Z,H],datatype:T===g._datatype&&R===v._datatype?L:void 0}),Fe=[],ge=[],pe=0;pe<H;pe++){fe[pe]=ie.length;for(var $e=pe+1,ce=0;ce<Y;ce++){var ae=O[ce][pe];if(!J(ae,ee))for(var We=_[ce],xe=_[ce+1],le=We;le<xe;le++){var Se=C[le];ge[Se]!==$e?(ge[Se]=$e,ie.push(Se),Fe[Se]=X(ae,B[le])):Fe[Se]=j(Fe[Se],X(ae,B[le]))}}for(var Ze=fe[pe],rt=ie.length,nt=Ze;nt<rt;nt++){var gt=ie[nt];ne[nt]=Fe[gt]}}return fe[H]=ie.length,Ae}function b(g,v){var B=g._values,C=g._index,_=g._ptr,T=g._datatype||g._data===void 0?g._datatype:g.getDataType(),O=v._values,R=v._index,Z=v._ptr,Y=v._datatype||v._data===void 0?v._datatype:v.getDataType(),H=g._size[0],L=v._size[1],j=B&&O,X,J=n,ee=i;T&&Y&&T===Y&&typeof T=="string"&&T!=="mixed"&&(X=T,J=t.find(n,[X,X]),ee=t.find(i,[X,X]));for(var ne=j?[]:void 0,ie=[],fe=[],Ae=g.createSparseMatrix({values:ne,index:ie,ptr:fe,size:[H,L],datatype:T===g._datatype&&Y===v._datatype?X:void 0}),Fe=j?[]:void 0,ge=[],pe,$e,ce,ae,We,xe,le,Se,Ze=0;Ze<L;Ze++){fe[Ze]=ie.length;var rt=Ze+1;for(We=Z[Ze],xe=Z[Ze+1],ae=We;ae<xe;ae++)if(Se=R[ae],j)for($e=_[Se],ce=_[Se+1],pe=$e;pe<ce;pe++)le=C[pe],ge[le]!==rt?(ge[le]=rt,ie.push(le),Fe[le]=ee(O[ae],B[pe])):Fe[le]=J(Fe[le],ee(O[ae],B[pe]));else for($e=_[Se],ce=_[Se+1],pe=$e;pe<ce;pe++)le=C[pe],ge[le]!==rt&&(ge[le]=rt,ie.push(le));if(j)for(var nt=fe[Ze],gt=ie.length,wt=nt;wt<gt;wt++){var pr=ie[wt];ne[wt]=Fe[pr]}}return fe[L]=ie.length,Ae}return t(on,i,{"Array, Array":t.referTo("Matrix, Matrix",g=>(v,B)=>{f(Le(v),Le(B));var C=g(r(v),r(B));return Be(C)?C.valueOf():C}),"Matrix, Matrix":function(v,B){var C=v.size(),_=B.size();return f(C,_),C.length===1?_.length===1?D(v,B,C[0]):c(v,B):_.length===1?p(v,B):d(v,B)},"Matrix, Array":t.referTo("Matrix,Matrix",g=>(v,B)=>g(v,r(B))),"Array, Matrix":t.referToSelf(g=>(v,B)=>g(r(v,B.storage()),B)),"SparseMatrix, any":function(v,B){return s(v,B,i,!1)},"DenseMatrix, any":function(v,B){return l(v,B,i,!1)},"any, SparseMatrix":function(v,B){return s(B,v,i,!0)},"any, DenseMatrix":function(v,B){return l(B,v,i,!0)},"Array, any":function(v,B){return l(r(v),B,i,!1).valueOf()},"any, Array":function(v,B){return l(r(B),v,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(g=>(v,B,C)=>{for(var _=g(v,B),T=0;T<C.length;T++)_=g(_,C[T]);return _})})}),sn="conj",_a=["typed"],Na=re(sn,_a,e=>{var{typed:t}=e;return t(sn,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:t.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":t.referToSelf(r=>n=>ot(n,r))})}),an="identity",Sa=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ma=re(an,Sa,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=e;return t(an,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(D){return n(D)},"number | BigNumber":function(D){return l(D,D,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(D,c){return l(D,D,c)},"number | BigNumber, number | BigNumber":function(D,c){return l(D,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(D,c,h){return l(D,c,h)},Array:function(D){return s(D)},"Array, string":function(D,c){return s(D,c)},Matrix:function(D){return s(D.valueOf(),D.storage())},"Matrix, string":function(D,c){return s(D.valueOf(),c)}});function s(f,D){switch(f.length){case 0:return D?n(D):[];case 1:return l(f[0],f[0],D);case 2:return l(f[0],f[1],D);default:throw new Error("Vector containing two values expected")}}function l(f,D,c){var h=ye(f)||ye(D)?i:null;if(ye(f)&&(f=f.toNumber()),ye(D)&&(D=D.toNumber()),!de(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!de(D)||D<1)throw new Error("Parameters in function identity must be positive integers");var p=h?new i(1):1,d=h?new h(0):0,a=[f,D];if(c){if(c==="sparse")return o.diagonal(a,p,0,d);if(c==="dense")return u.diagonal(a,p,0,d);throw new TypeError('Unknown matrix type "'.concat(c,'"'))}for(var m=nr([],a,d),E=f<D?f:D,y=0;y<E;y++)m[y][y]=p;return m}});function Ta(){throw new Error('No "bignumber" implementation available')}function xa(){throw new Error('No "fraction" implementation available')}var fn="size",Ia=["typed"],Oa=re(fn,Ia,e=>{var{typed:t}=e;return t(fn,{Matrix:r=>r.size(),Array:Le,string:r=>[r.length],"number | Complex | BigNumber | Unit | boolean | null":r=>[]})}),cn="zeros",za=["typed","config","matrix","BigNumber"],Pa=re(cn,za,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(cn,{"":function(){return r.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(f){var D=f[f.length-1];if(typeof D=="string"){var c=f.pop();return u(f,c)}else return r.matrix==="Array"?u(f):u(f,"default")},Array:u,Matrix:function(f){var D=f.storage();return u(f.valueOf(),D)},"Array | Matrix, string":function(f,D){return u(f.valueOf(),D)}});function u(l,f){var D=o(l),c=D?new i(0):0;if(s(l),f){var h=n(f);return l.length>0?h.resize(l,c):h}else{var p=[];return l.length>0?nr(p,l,c):p}}function o(l){var f=!1;return l.forEach(function(D,c,h){ye(D)&&(f=!0,h[c]=D.toNumber())}),f}function s(l){l.forEach(function(f){if(typeof f!="number"||!de(f)||f<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Ra="numeric",$a=["number","?bignumber","?fraction"],La=re(Ra,$a,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>t(o),BigNumber:r?o=>r(o):Ta,bigint:o=>BigInt(o),Fraction:n?o=>n(o):xa};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",f=arguments.length>2?arguments[2]:void 0;if(f!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var D=lt(s);if(!(D in i))throw new TypeError("Cannot convert "+s+' of type "'+D+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===D?s:u[l](s)}}),ln="divideScalar",qa=["typed","numeric"],Ua=re(ln,qa,e=>{var{typed:t,numeric:r}=e;return t(ln,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),hn="pow",ka=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Ha=re(hn,ka,e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:u,inv:o,number:s,fraction:l,Complex:f}=e;return t(hn,{"number, number":D,"Complex, Complex":function(d,a){return d.pow(a)},"BigNumber, BigNumber":function(d,a){return a.isInteger()||d>=0||r.predictable?d.pow(a):new f(d.toNumber(),0).pow(a.toNumber(),0)},"bigint, bigint":(p,d)=>p**d,"Fraction, Fraction":function(d,a){var m=d.pow(a);if(m!=null)return m;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return D(d.valueOf(),a.valueOf())},"Array, number":c,"Array, BigNumber":function(d,a){return c(d,a.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(d,a){return h(d,a.toNumber())},"Unit, number | BigNumber":function(d,a){return d.pow(a)}});function D(p,d){if(r.predictable&&!de(d)&&p<0)try{var a=l(d),m=s(a);if((d===m||Math.abs((d-m)/d)<1e-14)&&a.d%2n===1n)return(a.n%2n===0n?1:-1)*Math.pow(-p,d)}catch{}return r.predictable&&(p<-1&&d===1/0||p>-1&&p<0&&d===-1/0)?NaN:de(d)||p>=0||r.predictable?ti(p,d):p*p<1&&d===1/0||p*p>1&&d===-1/0?0:new f(p,0).pow(d,0)}function c(p,d){if(!de(d))throw new TypeError("For A^b, b must be an integer (value is "+d+")");var a=Le(p);if(a.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+a.length+" dimensions)");if(a[0]!==a[1])throw new Error("For A^b, A must be square (size is "+a[0]+"x"+a[1]+")");if(d<0)try{return c(o(p),-d)}catch(y){throw y.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+d+")"):y}for(var m=n(a[0]).valueOf(),E=p;d>=1;)(d&1)===1&&(m=i(E,m)),d>>=1,E=i(E,E);return m}function h(p,d){return u(c(p.valueOf(),d))}}),bt="Number of decimals in function round must be an integer",pn="round",Wa=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Za=re(pn,Wa,e=>{var{typed:t,config:r,matrix:n,equalScalar:i,zeros:u,BigNumber:o,DenseMatrix:s}=e,l=ri({typed:t,equalScalar:i}),f=wa({typed:t,DenseMatrix:s}),D=ni({typed:t});function c(h){return Math.abs(qt(h).exponent)}return t(pn,{number:function(p){var d=Pt(p,c(r.relTol)),a=Mt(p,d,r.relTol,r.absTol)?d:p;return Pt(a)},"number, number":function(p,d){var a=c(r.relTol);if(d>=a)return Pt(p,d);var m=Pt(p,a),E=Mt(p,m,r.relTol,r.absTol)?m:p;return Pt(E,d)},"number, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);return new o(p).toDecimalPlaces(d.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,d){if(d%1)throw new TypeError(bt);return p.round(d)},"Complex, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);var a=d.toNumber();return p.round(a)},BigNumber:function(p){var d=new o(p).toDecimalPlaces(c(r.relTol)),a=br(p,d,r.relTol,r.absTol)?d:p;return a.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);var a=c(r.relTol);if(d>=a)return p.toDecimalPlaces(d.toNumber());var m=p.toDecimalPlaces(a),E=br(p,m,r.relTol,r.absTol)?m:p;return E.toDecimalPlaces(d.toNumber())},bigint:h=>h,"bigint, number":(h,p)=>h,"bigint, BigNumber":(h,p)=>h,Fraction:function(p){return p.round()},"Fraction, number":function(p,d){if(d%1)throw new TypeError(bt);return p.round(d)},"Fraction, BigNumber":function(p,d){if(!d.isInteger())throw new TypeError(bt);return p.round(d.toNumber())},"Unit, number, Unit":t.referToSelf(h=>function(p,d,a){var m=p.toNumeric(a);return a.multiply(h(m,d))}),"Unit, BigNumber, Unit":t.referToSelf(h=>(p,d,a)=>h(p,d.toNumber(),a)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(h=>(p,d,a)=>ot(p,m=>h(m,d,a),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(h=>(p,d)=>h(p,0,d)),"Array | Matrix":t.referToSelf(h=>p=>ot(p,h,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(h=>(p,d)=>l(p,d,h,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(h=>(p,d)=>D(p,d,h,!1)),"Array, number | BigNumber":t.referToSelf(h=>(p,d)=>D(n(p),d,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(h=>(p,d)=>i(p,0)?u(d.size(),d.storage()):f(d,p,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(h=>(p,d)=>i(p,0)?u(d.size(),d.storage()):D(d,p,h,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(h=>(p,d)=>D(n(d),p,h,!0).valueOf())})}),Dn="dot",Va=["typed","addScalar","multiplyScalar","conj","size"],Ya=re(Dn,Va,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:u}=e;return t(Dn,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(f,D){var c=u(f),h=u(D),p,d;if(c.length===1)p=c[0];else if(c.length===2&&c[1]===1)p=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(h.length===1)d=h[0];else if(h.length===2&&h[1]===1)d=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(p!==d)throw new RangeError("Vectors must have equal length ("+p+" != "+d+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(f,D){var c=o(f,D),h=Be(f)?f._data:f,p=Be(f)?f._datatype||f.getDataType():void 0,d=Be(D)?D._data:D,a=Be(D)?D._datatype||D.getDataType():void 0,m=u(f).length===2,E=u(D).length===2,y=r,F=n;if(p&&a&&p===a&&typeof p=="string"&&p!=="mixed"){var b=p;y=t.find(r,[b,b]),F=t.find(n,[b,b])}if(!m&&!E){for(var g=F(i(h[0]),d[0]),v=1;v<c;v++)g=y(g,F(i(h[v]),d[v]));return g}if(!m&&E){for(var B=F(i(h[0]),d[0][0]),C=1;C<c;C++)B=y(B,F(i(h[C]),d[C][0]));return B}if(m&&!E){for(var _=F(i(h[0][0]),d[0]),T=1;T<c;T++)_=y(_,F(i(h[T][0]),d[T]));return _}if(m&&E){for(var O=F(i(h[0][0]),d[0][0]),R=1;R<c;R++)O=y(O,F(i(h[R][0]),d[R][0]));return O}}function l(f,D){o(f,D);for(var c=f._index,h=f._values,p=D._index,d=D._values,a=0,m=r,E=n,y=0,F=0;y<c.length&&F<p.length;){var b=c[y],g=p[F];if(b<g){y++;continue}if(b>g){F++;continue}b===g&&(a=m(a,E(h[y],d[F])),y++,F++)}return a}}),dn="det",Xa=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Ga=re(dn,Xa,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:u,isZero:o,unaryMinus:s}=e;return t(dn,{any:function(D){return Ee(D)},"Array | Matrix":function(D){var c;switch(Be(D)?c=D.size():Array.isArray(D)?(D=r(D),c=D.size()):c=[],c.length){case 0:return Ee(D);case 1:if(c[0]===1)return Ee(D.valueOf()[0]);if(c[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+be(c)+")");case 2:{var h=c[0],p=c[1];if(h===p)return l(D.clone().valueOf(),h);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+be(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+be(c)+")")}}});function l(f,D,c){if(D===1)return Ee(f[0][0]);if(D===2)return n(i(f[0][0],f[1][1]),i(f[1][0],f[0][1]));for(var h=!1,p=new Array(D).fill(0).map((B,C)=>C),d=0;d<D;d++){var a=p[d];if(o(f[a][d])){var m=void 0;for(m=d+1;m<D;m++)if(!o(f[p[m]][d])){a=p[m],p[m]=p[d],p[d]=a,h=!h;break}if(m===D)return f[a][d]}for(var E=f[a][d],y=d===0?1:f[p[d-1]][d-1],F=d+1;F<D;F++)for(var b=p[F],g=d+1;g<D;g++)f[b][g]=u(n(i(f[b][g],E),i(f[b][d],f[a][g])),y)}var v=f[p[D-1]][D-1];return h?s(v):v}}),mn="inv",Ja=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ja=re(mn,Ja,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:u,unaryMinus:o,det:s,identity:l,abs:f}=e;return t(mn,{"Array | Matrix":function(h){var p=Be(h)?h.size():Le(h);switch(p.length){case 1:if(p[0]===1)return Be(h)?r([n(1,h.valueOf()[0])]):[n(1,h[0])];throw new RangeError("Matrix must be square (size: "+be(p)+")");case 2:{var d=p[0],a=p[1];if(d===a)return Be(h)?r(D(h.valueOf(),d,a),h.storage()):D(h,d,a);throw new RangeError("Matrix must be square (size: "+be(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+be(p)+")")}},any:function(h){return n(1,h)}});function D(c,h,p){var d,a,m,E,y;if(h===1){if(E=c[0][0],E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,E)]]}else if(h===2){var F=s(c);if(F===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(c[1][1],F),n(o(c[0][1]),F)],[n(o(c[1][0]),F),n(c[0][0],F)]]}else{var b=c.concat();for(d=0;d<h;d++)b[d]=b[d].concat();for(var g=l(h).valueOf(),v=0;v<p;v++){var B=f(b[v][v]),C=v;for(d=v+1;d<h;)f(b[d][v])>B&&(B=f(b[d][v]),C=d),d++;if(B===0)throw Error("Cannot calculate inverse, determinant is zero");d=C,d!==v&&(y=b[v],b[v]=b[d],b[d]=y,y=g[v],g[v]=g[d],g[d]=y);var _=b[v],T=g[v];for(d=0;d<h;d++){var O=b[d],R=g[d];if(d!==v){if(O[v]!==0){for(m=n(o(O[v]),_[v]),a=v;a<p;a++)O[a]=i(O[a],u(m,_[a]));for(a=0;a<p;a++)R[a]=i(R[a],u(m,T[a]))}}else{for(m=_[v],a=v;a<p;a++)O[a]=n(O[a],m);for(a=0;a<p;a++)R[a]=n(R[a],m)}}}return g}}}),Ut=is({config:pt}),ii=fs({}),ui=vs({}),xr=Fs({}),lr=$s({Matrix:xr,config:pt}),ve=oo({BigNumber:Ut,Complex:ii,DenseMatrix:lr,Fraction:ui}),Ka=ca({typed:ve}),Ir=ha({typed:ve}),Qa=Na({typed:ve}),hr=Ws({config:pt,typed:ve}),oi=Ca({typed:ve}),si=Ks({typed:ve}),ef=Oa({typed:ve}),ai=Ys({Matrix:xr,equalScalar:hr,typed:ve}),tf=Da({typed:ve}),rf=ta({BigNumber:Ut,typed:ve}),nf=Ya({addScalar:Ir,conj:Qa,multiplyScalar:oi,size:ef,typed:ve}),uf=qs({equalScalar:hr,typed:ve}),vt=oa({DenseMatrix:lr,Matrix:xr,SparseMatrix:ai,typed:ve}),Or=Ba({addScalar:Ir,dot:nf,equalScalar:hr,matrix:vt,multiplyScalar:oi,typed:ve}),of=Pa({BigNumber:Ut,config:pt,matrix:vt,typed:ve}),fi=ia({Fraction:ui,typed:ve}),ci=Ma({BigNumber:Ut,DenseMatrix:lr,SparseMatrix:ai,config:pt,matrix:vt,typed:ve}),sf=La({bignumber:rf,fraction:fi,number:si}),Pf=Za({BigNumber:Ut,DenseMatrix:lr,config:pt,equalScalar:hr,matrix:vt,typed:ve,zeros:of}),li=aa({typed:ve}),hi=Ua({numeric:sf,typed:ve}),af=Ga({divideScalar:hi,isZero:uf,matrix:vt,multiply:Or,subtractScalar:tf,typed:ve,unaryMinus:li}),ff=ja({abs:Ka,addScalar:Ir,det:af,divideScalar:hi,identity:ci,matrix:vt,multiply:Or,typed:ve,unaryMinus:li}),Rf=Ha({Complex:ii,config:pt,fraction:fi,identity:ci,inv:ff,matrix:vt,multiply:Or,number:si,typed:ve}),cf="1.3.16";function pi(e,t,r){return Math.max(e,Math.min(t,r))}function lf(e,t,r){return(1-r)*e+r*t}function hf(e,t,r,n){return lf(e,t,1-Math.exp(-r*n))}function pf(e,t){return(e%t+t)%t}var Df=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(e){if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;const r=pi(0,this.currentTime/this.duration,1);t=r>=1;const n=t?1:this.easing(r);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=hf(this.value,this.to,this.lerp*60,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),this.onUpdate?.(this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:r,duration:n,easing:i,onStart:u,onUpdate:o}){this.from=this.value=e,this.to=t,this.lerp=r,this.duration=n,this.easing=i,this.currentTime=0,this.isRunning=!0,u?.(),this.onUpdate=o}};function df(e,t){let r;return function(...n){let i=this;clearTimeout(r),r=setTimeout(()=>{r=void 0,e.apply(i,n)},t)}}var mf=class{constructor(e,t,{autoResize:r=!0,debounce:n=250}={}){this.wrapper=e,this.content=t,r&&(this.debouncedResize=df(this.resize,n),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},Di=class{events={};emit(e,...t){let r=this.events[e]||[];for(let n=0,i=r.length;n<i;n++)r[n]?.(...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(r=>t!==r)}}off(e,t){this.events[e]=this.events[e]?.filter(r=>t!==r)}destroy(){this.events={}}},vn=100/6,st={passive:!1},vf=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,st),this.element.addEventListener("touchstart",this.onTouchStart,st),this.element.addEventListener("touchmove",this.onTouchMove,st),this.element.addEventListener("touchend",this.onTouchEnd,st)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new Di;on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,st),this.element.removeEventListener("touchstart",this.onTouchStart,st),this.element.removeEventListener("touchmove",this.onTouchMove,st),this.element.removeEventListener("touchend",this.onTouchEnd,st)}onTouchStart=e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:t,clientY:r}=e.targetTouches?e.targetTouches[0]:e,n=-(t-this.touchStart.x)*this.options.touchMultiplier,i=-(r-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=r,this.lastDelta={x:n,y:i},this.emitter.emit("scroll",{deltaX:n,deltaY:i,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:r,deltaMode:n}=e;const i=n===1?vn:n===2?this.window.width:1,u=n===1?vn:n===2?this.window.height:1;t*=i,r*=u,t*=this.options.wheelMultiplier,r*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:r,event:e})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},gn=e=>Math.min(1,1.001-Math.pow(2,-10*e)),$f=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new Df;emitter=new Di;dimensions;virtualScroll;constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:r=e,smoothWheel:n=!0,syncTouch:i=!1,syncTouchLerp:u=.075,touchInertiaExponent:o=1.7,duration:s,easing:l,lerp:f=.1,infinite:D=!1,orientation:c="vertical",gestureOrientation:h=c==="horizontal"?"both":"vertical",touchMultiplier:p=1,wheelMultiplier:d=1,autoResize:a=!0,prevent:m,virtualScroll:E,overscroll:y=!0,autoRaf:F=!1,anchors:b=!1,autoToggle:g=!1,allowNestedScroll:v=!1,__experimental__naiveDimensions:B=!1}={}){window.lenisVersion=cf,(!e||e===document.documentElement)&&(e=window),typeof s=="number"&&typeof l!="function"?l=gn:typeof l=="function"&&typeof s!="number"&&(s=1),this.options={wrapper:e,content:t,eventsTarget:r,smoothWheel:n,syncTouch:i,syncTouchLerp:u,touchInertiaExponent:o,duration:s,easing:l,lerp:f,infinite:D,gestureOrientation:h,orientation:c,touchMultiplier:p,wheelMultiplier:d,autoResize:a,prevent:m,virtualScroll:E,overscroll:y,autoRaf:F,anchors:b,autoToggle:g,allowNestedScroll:v,__experimental__naiveDimensions:B},this.dimensions=new mf(e,t,{autoResize:a}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new vf(r,{touchMultiplier:p,wheelMultiplier:d}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}onScrollEnd=e=>{e instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&e.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};get overflow(){const e=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[e]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}onTransitionEnd=e=>{e.propertyName.includes("overflow")&&this.checkOverflow()};setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}onClick=e=>{const r=e.composedPath().find(n=>n instanceof HTMLAnchorElement&&n.getAttribute("href")?.includes("#"));if(r){const n=r.getAttribute("href");if(n){const i=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,u=`#${n.split("#")[1]}`;this.scrollTo(u,i)}}};onPointerDown=e=>{e.button===1&&this.reset()};onVirtualScroll=e=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(e)===!1)return;const{deltaX:t,deltaY:r,event:n}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:r,event:n}),n.ctrlKey||n.lenisStopPropagation)return;const i=n.type.includes("touch"),u=n.type.includes("wheel");this.isTouching=n.type==="touchstart"||n.type==="touchmove";const o=t===0&&r===0;if(this.options.syncTouch&&i&&n.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const l=this.options.gestureOrientation==="vertical"&&r===0||this.options.gestureOrientation==="horizontal"&&t===0;if(o||l)return;let f=n.composedPath();f=f.slice(0,f.indexOf(this.rootElement));const D=this.options.prevent;if(f.find(m=>m instanceof HTMLElement&&(typeof D=="function"&&D?.(m)||m.hasAttribute?.("data-lenis-prevent")||i&&m.hasAttribute?.("data-lenis-prevent-touch")||u&&m.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(m,{deltaX:t,deltaY:r}))))return;if(this.isStopped||this.isLocked){n.cancelable&&n.preventDefault();return}if(!(this.options.syncTouch&&i||this.options.smoothWheel&&u)){this.isScrolling="native",this.animate.stop(),n.lenisStopPropagation=!0;return}let h=r;this.options.gestureOrientation==="both"?h=Math.abs(r)>Math.abs(t)?r:t:this.options.gestureOrientation==="horizontal"&&(h=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&r>0||this.animatedScroll===this.limit&&r<0))&&(n.lenisStopPropagation=!0),n.cancelable&&n.preventDefault();const p=i&&this.options.syncTouch,a=i&&n.type==="touchend";a&&(h=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+h,{programmatic:!1,...p?{lerp:a?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=e=>{const t=e-(this.time||e);this.time=e,this.animate.advance(t*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(e,{offset:t=0,immediate:r=!1,lock:n=!1,duration:i=this.options.duration,easing:u=this.options.easing,lerp:o=this.options.lerp,onStart:s,onComplete:l,force:f=!1,programmatic:D=!0,userData:c}={}){if(!((this.isStopped||this.isLocked)&&!f)){if(typeof e=="string"&&["top","left","start","#"].includes(e))e=0;else if(typeof e=="string"&&["bottom","right","end"].includes(e))e=this.limit;else{let h;if(typeof e=="string"?(h=document.querySelector(e),h||(e==="#top"?e=0:console.warn("Lenis: Target not found",e))):e instanceof HTMLElement&&e?.nodeType&&(h=e),h){if(this.options.wrapper!==window){const d=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?d.left:d.top}const p=h.getBoundingClientRect();e=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=t,e=Math.round(e),this.options.infinite){if(D){this.targetScroll=this.animatedScroll=this.scroll;const h=e-this.animatedScroll;h>this.limit/2?e=e-this.limit:h<-this.limit/2&&(e=e+this.limit)}}else e=pi(0,e,this.limit);if(e===this.targetScroll){s?.(this),l?.(this);return}if(this.userData=c??{},r){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}D||(this.targetScroll=e),typeof i=="number"&&typeof u!="function"?u=gn:typeof u=="function"&&typeof i!="number"&&(i=1),this.animate.fromTo(this.animatedScroll,e,{duration:i,easing:u,lerp:o,onStart:()=>{n&&(this.isLocked=!0),this.isScrolling="smooth",s?.(this)},onUpdate:(h,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),D&&(this.targetScroll=h),p||this.emit(),p&&(this.reset(),this.emit(),l?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:t,deltaY:r}){const n=Date.now(),i=e._lenis??={};let u,o,s,l,f,D,c,h;const p=this.options.gestureOrientation;if(n-(i.time??0)>2e3){i.time=Date.now();const g=window.getComputedStyle(e);i.computedStyle=g;const v=g.overflowX,B=g.overflowY;if(u=["auto","overlay","scroll"].includes(v),o=["auto","overlay","scroll"].includes(B),i.hasOverflowX=u,i.hasOverflowY=o,!u&&!o||p==="vertical"&&!o||p==="horizontal"&&!u)return!1;f=e.scrollWidth,D=e.scrollHeight,c=e.clientWidth,h=e.clientHeight,s=f>c,l=D>h,i.isScrollableX=s,i.isScrollableY=l,i.scrollWidth=f,i.scrollHeight=D,i.clientWidth=c,i.clientHeight=h}else s=i.isScrollableX,l=i.isScrollableY,u=i.hasOverflowX,o=i.hasOverflowY,f=i.scrollWidth,D=i.scrollHeight,c=i.clientWidth,h=i.clientHeight;if(!u&&!o||!s&&!l||p==="vertical"&&(!o||!l)||p==="horizontal"&&(!u||!s))return!1;let d;if(p==="horizontal")d="x";else if(p==="vertical")d="y";else{const g=t!==0,v=r!==0;g&&u&&s&&(d="x"),v&&o&&l&&(d="y")}if(!d)return!1;let a,m,E,y,F;if(d==="x")a=e.scrollLeft,m=f-c,E=t,y=u,F=s;else if(d==="y")a=e.scrollTop,m=D-h,E=r,y=o,F=l;else return!1;return(E>0?a<m:a>0)&&y&&F}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const e=this.options.wrapper;return this.isHorizontal?e.scrollX??e.scrollLeft:e.scrollY??e.scrollTop}get scroll(){return this.options.infinite?pf(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isScrolling==="smooth"&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};export{wf as A,Ff as B,Ef as C,Cf as G,_f as L,Nf as M,Tf as S,If as T,zf as X,Af as a,Bf as b,$f as c,xf as d,bf as e,yf as f,Sf as g,Of as h,Mf as i,Rf as p,Pf as r};
